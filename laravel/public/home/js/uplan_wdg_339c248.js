;/*!/client/widget/product/detail/common/js/uplan-product-util.js*/
define("uplan:widget/product/detail/common/js/uplan-product-util.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var utils=require("common:widget/ui/utils/utils"),UplanUtils=function(){function UplanUtils(){_classCallCheck(this,UplanUtils)}return UplanUtils.prototype.simpleInvestAmount=function(Money,R,lockPeriod){var m=lockPeriod;R/=100;var I=Money*R*m/12;return Math.ceil(100*I.toFixed(3))/100},UplanUtils.prototype.compoundInvestAmount=function(Money,R,lockPeriod){var m=lockPeriod;R/=100;var I=Money*Math.pow(1+R/12,m)-Money;return Math.ceil(100*I.toFixed(2))/100},UplanUtils.prototype.compoundInterest=function(R,lockPeriod){R/=100;var m=lockPeriod,tmp=Math.pow(R/12+1,m)-1,D=12*tmp/m;return 100*D},UplanUtils.prototype.simpleInterest=function(D,lockPeriod){var me=this;D/=100;var m=lockPeriod,n=1+m*D/12,R=12*(Math.pow(n,1/m)-1);return me.toCeilFixed(R)},UplanUtils.prototype.toCeilFixed=function(number){var n=number.toString(),idx=n.indexOf("."),new_n=n.substring(0,idx+6),last_num=new_n[new_n.length-1],final_num="";return final_num=last_num>0?parseFloat(new_n)+1e-4:new_n,final_num=final_num.toString().substring(0,new_n.length-1),100*parseFloat(final_num)},UplanUtils.prototype.updateRateAmount=function(businessPayAmount,incrinterestrate,cashWay,compoundInterest,simpleInterest,lockPeriod){var amount="",me=this,compound=parseFloat(compoundInterest),rate=(100*compound+100*parseFloat(incrinterestrate))/100;return rate=me.simpleInterest(rate,lockPeriod),rate=utils.fixFloat2(rate),0==incrinterestrate&&(rate=parseFloat(simpleInterest),rate=utils.fixFloat2(rate)),"INVEST"==cashWay?(amount=me.compoundInvestAmount(businessPayAmount,rate,lockPeriod),amount=utils.fixFloat2(amount),rate=(100*parseFloat(compoundInterest)+100*parseFloat(incrinterestrate))/100,rate=utils.fixFloat2(rate)):(amount=me.simpleInvestAmount(businessPayAmount,rate,lockPeriod),amount=utils.fixFloat2(amount)),{rate:rate,amount:amount}},UplanUtils.prototype.getPayAmount=function(buyAmount,feeRate){return parseInt(buyAmount,10)+feeRate*buyAmount},UplanUtils.prototype.getNumbersSelectChange=function(params){var me=this,rateEnd=null,amountEnd=null,preBuyAllMoneyEnd=null,isShowDiscount=!1,discount=0,couponList=params.couponList,preBuyAllMoney=params.preBuyAllMoney,cashType=params.cashType,compoundInterest=params.compoundInterest,simpleInterest=params.simpleInterest,lockPeriod=params.lockPeriod,couponValue=params.couponValue,couponTypeEng=params.couponTypeEng,incrInterestRate=params.incrInterestRate,businessPayAmount=preBuyAllMoney;if(couponList&&!couponTypeEng&&!incrInterestRate&&!couponValue){var initCouponValue=couponList[0];initCouponValue&&(couponTypeEng=couponTypeEng?couponTypeEng:initCouponValue.couponTypeEng,couponValue=couponValue?couponValue:initCouponValue.couponValue,incrInterestRate=incrInterestRate?incrInterestRate:initCouponValue.incrInterestRate)}if("EXTRA_INTEREST"==couponTypeEng){var _me$updateRateAmount=me.updateRateAmount(businessPayAmount,incrInterestRate,cashType,compoundInterest,simpleInterest,lockPeriod),amount=_me$updateRateAmount.amount,rate=_me$updateRateAmount.rate;rateEnd=rate+"%（含加息）",amountEnd=amount+"元"}else{var _me$updateRateAmount2=me.updateRateAmount(businessPayAmount,0,cashType,compoundInterest,simpleInterest,lockPeriod),amount=_me$updateRateAmount2.amount,rate=_me$updateRateAmount2.rate;rateEnd=rate+"%",amountEnd=amount+"元",preBuyAllMoneyEnd=preBuyAllMoney-couponValue,0>preBuyAllMoneyEnd&&(preBuyAllMoneyEnd=0),"DISCOUNT"==couponTypeEng&&(isShowDiscount=!0,discount=couponValue)}return{rateEnd:rateEnd,amountEnd:amountEnd,preBuyAllMoneyEnd:preBuyAllMoneyEnd,isShowDiscount:isShowDiscount,discount:discount}},UplanUtils.prototype.getNumbersFirst=function(params){var me=this,rateEnd=null,amountEnd=null,preBuyAllMoneyEnd=null,isShowDiscount=!1,discount=0,couponList=params.couponList,preBuyAllMoney=params.preBuyAllMoney,cashType=params.cashType,compoundInterest=params.compoundInterest,simpleInterest=params.simpleInterest,lockPeriod=params.lockPeriod,businessPayAmount=preBuyAllMoney;if(couponList){var initCouponValue=couponList[0];if(initCouponValue){var couponTypeEng=initCouponValue.couponTypeEng,couponValue=initCouponValue.couponValue;if("EXTRA_INTEREST"==couponTypeEng){var incrInterestRate=initCouponValue.incrInterestRate,_me$updateRateAmount3=me.updateRateAmount(businessPayAmount,incrInterestRate,cashType,compoundInterest,simpleInterest,lockPeriod),amount=_me$updateRateAmount3.amount,rate=_me$updateRateAmount3.rate;rateEnd=rate+"%（含加息）",amountEnd=amount+"元"}else{var _me$updateRateAmount4=me.updateRateAmount(businessPayAmount,0,cashType,compoundInterest,simpleInterest,lockPeriod),amount=_me$updateRateAmount4.amount,rate=_me$updateRateAmount4.rate;rateEnd=rate+"%",amountEnd=amount+"元",preBuyAllMoneyEnd=preBuyAllMoney-couponValue,0>preBuyAllMoneyEnd&&(preBuyAllMoneyEnd=0),"DISCOUNT"==couponTypeEng&&(isShowDiscount=!0,discount=couponValue)}}else{var _me$updateRateAmount5=me.updateRateAmount(businessPayAmount,0,cashType,compoundInterest,simpleInterest,lockPeriod),amount=_me$updateRateAmount5.amount,rate=_me$updateRateAmount5.rate;rateEnd=rate+"%",amountEnd=amount+"元",preBuyAllMoneyEnd=preBuyAllMoney,0>preBuyAllMoneyEnd&&(preBuyAllMoneyEnd=0)}}else{var _me$updateRateAmount6=me.updateRateAmount(businessPayAmount,0,cashType,compoundInterest,simpleInterest,lockPeriod),amount=_me$updateRateAmount6.amount,rate=_me$updateRateAmount6.rate;rateEnd=rate+"%",amountEnd=amount+"元",preBuyAllMoneyEnd=preBuyAllMoney,0>preBuyAllMoneyEnd&&(preBuyAllMoneyEnd=0)}return{rateEnd:rateEnd,amountEnd:amountEnd,preBuyAllMoneyEnd:preBuyAllMoneyEnd,isShowDiscount:isShowDiscount,discount:discount}},UplanUtils}(),uplanUtils=new UplanUtils;module.exports=uplanUtils});
;/*!/client/widget/product/detail/RCashType/RCashType.js*/
define("uplan:widget/product/detail/RCashType/RCashType.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RSelect=require("common:widget/react-ui/RSelect/RSelect"),RCoupon=(require("common:widget/ui/utils/utils"),function(_React$Component){function RCoupon(props){_classCallCheck(this,RCoupon),_React$Component.call(this,props)}return _inherits(RCoupon,_React$Component),RCoupon.prototype.render=function(){var props=this.props,caOptions=(this.state,props.caOptions),cashType=props.cashType,cashTypeOptions={options:caOptions,className:"product-uplan-cashType-select",selectDefaultValue:cashType,noResultsText:"无可用加息券",selectChange:props.selectCashTypeChange};return React.createElement(RSelect,cashTypeOptions)},RCoupon}(React.Component));module.exports=RCoupon});
;/*!/client/widget/product/detail/RCoupon/RCoupon.js*/
define("uplan:widget/product/detail/RCoupon/RCoupon.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RSelect=require("common:widget/react-ui/RSelect/RSelect"),RCoupon=(require("common:widget/ui/utils/utils"),function(_React$Component){function RCoupon(props){_classCallCheck(this,RCoupon),_React$Component.call(this,props)}return _inherits(RCoupon,_React$Component),RCoupon.prototype.render=function(){var props=this.props,cOptions=(this.state,props.cOptions),couponId=props.couponId,couponOptions={options:cOptions,className:"product-uplan-coupon-select",selectDefaultValue:couponId,noResultsText:"无可用加息券",selectChange:props.selectCouponChange};return React.createElement(RSelect,couponOptions)},RCoupon}(React.Component));module.exports=RCoupon});
;/*!/client/widget/product/detail/RProductUplanWaitStatusCountDown/RProductUplanWaitStatusCountDown.js*/
define("uplan:widget/product/detail/RProductUplanWaitStatusCountDown/RProductUplanWaitStatusCountDown.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),moment=(require("common:widget/ui/utils/utils"),require("common:node_modules/moment/moment")),RProductUplanWaitStatusCountDown=function(_React$Component){function RProductUplanWaitStatusCountDown(props){_classCallCheck(this,RProductUplanWaitStatusCountDown),_React$Component.call(this,props),this.state={duration:parseInt(props.duration,10)},this.step=props.step||1,this.timer=null}return _inherits(RProductUplanWaitStatusCountDown,_React$Component),RProductUplanWaitStatusCountDown.prototype.componentDidMount=function(){this.autoCountdown()},RProductUplanWaitStatusCountDown.prototype.componentWillUnmount=function(){clearTimeout(this.timer)},RProductUplanWaitStatusCountDown.prototype.autoCountdown=function(){var _this=this,planStatus=this.props.planStatus;return 3!==planStatus&&0!==planStatus||-1===planStatus?(clearTimeout(this.timer),!1):(clearTimeout(this.timer),this.state.duration<=this.step&&location.reload(),void this.setState({duration:this.state.duration-this.step},function(){_this.timer=setTimeout(function(){_this.autoCountdown()},1e3)}))},RProductUplanWaitStatusCountDown.prototype.durationCountdown=function(timeDuration,planStatus){var out="",outText="",duration=moment.duration(timeDuration,"seconds"),days=duration.days(),hours=duration.hours(),minutes=duration.minutes();return days>0&&(out+=days+"天"),(hours>0||out)&&(out+=hours+"时"),(minutes>0||out)&&(out+=minutes+"分"),0>=days&&(out+=duration.seconds()+"秒"),3==planStatus?outText="开始加入":0==planStatus&&(outText="后开始预定"),{out:out,outText:outText}},RProductUplanWaitStatusCountDown.prototype.render=function(){var _props=this.props,financePlanType=_props.financePlanType,planStatus=_props.planStatus,duration=this.state.duration,_durationCountdown=this.durationCountdown(duration,planStatus),out=_durationCountdown.out,outText=_durationCountdown.outText,countDownClassName="prop-big-box-count-down";"PREMIUM"==financePlanType&&(countDownClassName="prop-big-box-count-down prop-big-box-count-down-1");var dom=React.createElement("ul",{className:countDownClassName},React.createElement("li",{className:"prop-value"},out),React.createElement("li",{className:"prop-name"},outText));return React.createElement("div",null,dom)},RProductUplanWaitStatusCountDown}(React.Component);module.exports=RProductUplanWaitStatusCountDown});
;/*!/client/widget/product/detail/RProductUplanJoinDialog/RProductUplanJoinDialog.js*/
define("uplan:widget/product/detail/RProductUplanJoinDialog/RProductUplanJoinDialog.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},React=require("common:node_modules/react/react"),RDialog=require("common:widget/react-ui/RWeDialog/RWeDialog"),RForm=(require("common:widget/react-ui/RWETooltip/RWETooltip"),require("common:widget/react-ui/RForm/RForm")),RCashType=(require("common:widget/react-ui/RSelect/RSelect"),require("uplan:widget/product/detail/RCashType/RCashType")),RCoupon=require("uplan:widget/product/detail/RCoupon/RCoupon"),service=(RForm.TextInput,require("common:widget/ui/service/service-factory")),uplanService=service.getService("uplan"),utils=require("common:widget/ui/utils/utils"),numeral=require("common:node_modules/numeral/numeral"),uplanUtils=require("uplan:widget/product/detail/common/js/uplan-product-util.js"),RProductUplanJoinDialog=function(_React$Component){function RProductUplanJoinDialog(props){_classCallCheck(this,RProductUplanJoinDialog),_React$Component.call(this,props),this.doJoin=this.doJoin.bind(this),this.selectCouponChange=this.selectCouponChange.bind(this),this.selectCashTypeChange=this.selectCashTypeChange.bind(this),this.checkAgree=this.checkAgree.bind(this),this.state={isFirstRender:!0,checked:!0,isLoading:!1,hideErrorMsg:"",errorMsg:"",period:null,expectedRateUplan:null,cashType:null,couponId:null,couponValue:null,couponTypeEng:null,incrInterestRate:null,couponList:null}}return _inherits(RProductUplanJoinDialog,_React$Component),RProductUplanJoinDialog.prototype.componentDidMount=function(){this.getCouponList()},RProductUplanJoinDialog.prototype.getCouponList=function(){var _this=this,props=this.props,detailInfo=props.detailInfo,inputValue=props.inputValue,financePlan=detailInfo.financePlan,financePlanSubPointId=detailInfo.financePlanSubPointId,businessId=financePlan.id,businessName=financePlan.name,buyInRate=financePlan.buyInRate,lockPeriod=(financePlan.category,financePlan.lockPeriod),uplanType=financePlan.financePlanType,businessCategory=null==financePlanSubPointId?"UPLAN":"U_PLAN_CONTINUE",payAmount=uplanUtils.getPayAmount(inputValue,buyInRate);uplanService.getCouponList({businessCategory:businessCategory,payAmount:payAmount,businessId:businessId,businessName:businessName,lockPeriod:lockPeriod,uplanType:uplanType}).then(function(result){var requestStatus=result.requestStatus,data=result.data||{},status=data.status;if(requestStatus===uplanService.STATUS.SUCCESS&&0===status)_this.setState({couponList:data.data});else{var message=data.message||"获取优惠券列表失败, 请稍后再试";_this.setState({hideErrorMsg:message}),console.log("请求我的特权列表出错："+message)}}).caught(function(msg){_this.setState({hideErrorMsg:msg}),console.log("请求我的特权列表出错："+msg)})},RProductUplanJoinDialog.prototype.doJoin=function(e){this.setState({isLoading:!0});var target=e.currentTarget,disable=$(target).hasClass("j-btn-disabled");if(disable)return!1;var checked=this.state.checked;return checked?void e.target.submit():(this.setState({isLoading:!1,errorMsg:"请阅读并同意协议"}),!1)},RProductUplanJoinDialog.prototype.getCashTypeOptions=function(){var options=[{value:"INVEST",label:"收益再投资"},{value:"RRD",label:"提取至账户"}];return options},RProductUplanJoinDialog.prototype.getCouponOptions=function(couponList){var defaultValue=0,options=[];return couponList?(couponList.forEach(function(item){var name=item.name,couponId=item.couponId;options.push({value:couponId,label:name})}),options.push({value:defaultValue,label:"不使用优惠券"})):options.push({value:defaultValue,label:"无可用的优惠券"}),options},RProductUplanJoinDialog.prototype.selectCashTypeChange=function(val){this.setState({cashType:val,isFirstRender:!1})},RProductUplanJoinDialog.prototype.selectCouponChange=function(val){var couponId=void 0,couponValue=void 0,couponTypeEng=void 0,incrInterestRate=void 0,couponList=this.state.couponList;val>0?couponList.forEach(function(item){return couponId=item.couponId,couponId==val?(couponValue=item.couponValue,couponTypeEng=item.couponTypeEng,void(incrInterestRate=item.incrInterestRate)):void 0}):0==val&&(couponValue=0,incrInterestRate=0,couponTypeEng=-1),this.setState({couponId:val,couponValue:couponValue,couponTypeEng:couponTypeEng,incrInterestRate:incrInterestRate,isFirstRender:!1})},RProductUplanJoinDialog.prototype.checkAgree=function(){this.setState({checked:!this.state.checked})},RProductUplanJoinDialog.prototype.getNumbersSelectChange=function(paramsData){var couponList=paramsData.couponList,preBuyAllMoney=paramsData.preBuyAllMoney,cashType=paramsData.cashType,compoundInterest=paramsData.compoundInterest,simpleInterest=paramsData.simpleInterest,lockPeriod=paramsData.lockPeriod,state=this.state,couponValue=state.couponValue,couponTypeEng=state.couponTypeEng,incrInterestRate=state.incrInterestRate,params={couponList:couponList,preBuyAllMoney:preBuyAllMoney,cashType:cashType,compoundInterest:compoundInterest,simpleInterest:simpleInterest,lockPeriod:lockPeriod,couponValue:couponValue,couponTypeEng:couponTypeEng,incrInterestRate:incrInterestRate},result=uplanUtils.getNumbersSelectChange(params);return result},RProductUplanJoinDialog.prototype.renderFooterDom=function(planStatus){var footerDom=null;return footerDom=9==planStatus?React.createElement("div",{className:"notice-con"},React.createElement("div",{className:"notice-title"},"温馨提示"),React.createElement("ul",{className:"notice-desc "},React.createElement("li",null,"1.收益处理方式一经选择，无法修改。"),React.createElement("li",null,"2.可提取金额为该计划获取的收益部分，本金部分将继续滚动投标，直至锁定期结束，自动退出本计划。"),React.createElement("li",null,"3.兑换优惠券，可点击以下链接",React.createElement("a",{href:"/pc/user/privilege#privilege-my-coupon"},"兑换优惠券"),"。"))):React.createElement("div",{className:"notice-con"},React.createElement("div",{className:"notice-title"},"温馨提示"),React.createElement("ul",{className:"notice-desc "},React.createElement("li",null,"1. 收益处理方式一经选择，无法修改。"),React.createElement("li",null,"2. 可提取金额为该计划获取的收益部分，本金部分将继续滚动投标，直至锁定期结束，自动退出本计划。"),React.createElement("li",null,"3. 兑换优惠券，可点击以下链接",React.createElement("a",{href:"/pc/user/privilege#privilege-my-coupon"},"兑换优惠券"),"。"),React.createElement("li",null,"4. 预期年化利率不代表实际收益")))},RProductUplanJoinDialog.prototype.render=function(){var props=this.props,state=this.state,couponList=state.couponList,isFirstRender=state.isFirstRender,detailInfo=props.detailInfo,inputValue=props.inputValue,ucodeId=props.ucodeId,financePlan=detailInfo.financePlan,planStatus=detailInfo.planStatus,compoundInterest=detailInfo.compoundInterest,avaliablePoint=detailInfo.avaliablePoint,name=financePlan.name,id=financePlan.id,category=(financePlan.financePlanType,financePlan.category),contractHref="/financeplan/getDemoFinancePlanContract.action?financePlanId="+id,yearRateDom=null,expectedRate=financePlan.expectedRate;yearRateDom="OLD"!=category?compoundInterest:expectedRate;var lockPeriod=financePlan.lockPeriod,caOptions=this.getCashTypeOptions(),cashType=state.cashType?state.cashType:"INVEST",cOptions=this.getCouponOptions(couponList),couponId=state.couponId||0==state.couponId?state.couponId:cOptions[0].value,isChecked=state.checked,buyInRate=financePlan.buyInRate,preBuyAllMoney=uplanUtils.getPayAmount(inputValue,buyInRate),preBuyAllMoneyEnd=preBuyAllMoney,rateEnd=yearRateDom+"%",amountEnd="正在计算...",simpleInterest=financePlan.expectedRateUplan,isShowDiscount=!1,discount=0,result=null,paramsData={couponList:couponList,rateEnd:rateEnd,amountEnd:amountEnd,preBuyAllMoney:preBuyAllMoney,preBuyAllMoneyEnd:preBuyAllMoneyEnd,cashType:cashType,compoundInterest:compoundInterest,simpleInterest:simpleInterest,lockPeriod:lockPeriod};isFirstRender?(console.log("首次加载~~~~"),result=uplanUtils.getNumbersFirst(paramsData)):(console.log("非首次加载~~~~"),result=this.getNumbersSelectChange(paramsData)),result&&result.rateEnd&&(rateEnd=result.rateEnd,amountEnd=result.amountEnd,preBuyAllMoneyEnd=result.preBuyAllMoneyEnd?result.preBuyAllMoneyEnd:preBuyAllMoneyEnd,isShowDiscount=result.isShowDiscount,discount=result.discount),preBuyAllMoneyEnd=utils.commaFloat(preBuyAllMoneyEnd);var inputValueF=inputValue?utils.commaInteger(inputValue):0,formProps={action:"/pc/uplan/product/planBuy",method:"POST",id:"product-uplan-join-form"},dialogProps={showing:!0,title:9==planStatus?"提前加入U计划":"确定加入",dialog:{className:"product-uplan-dialog product-uplan-join-dialog",style:{width:700}},onRequestClose:props.onRequestClose},disCountDom=isShowDiscount?React.createElement("div",{className:"discount-tips"},"本次投资可抵扣",discount,"元"):null,footerDom=this.renderFooterDom(planStatus),ucodeDom=null,contractDom=null;9==planStatus?(ucodeDom=React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"ucode-tip"},9==planStatus?"您正在使用U-CODE提前加入本期U计划。":null)),contractDom=React.createElement("span",{className:"agreement-desc"},"我已阅读并同意签署",React.createElement("a",{href:contractHref,target:"_blank"},"《",name,"协议》"))):contractDom=React.createElement("span",{className:"agreement-desc"},"我已阅读并同意签署",React.createElement("a",{href:contractHref,target:"_blank"},"《",name,"协议》"),"及",React.createElement("a",{href:"https://www.renrendai.com/pc/agreement/contract/currency/cmsId/58ec7c0d090cc9096532d0ca",target:"_blank"},"《风险提示》"));var joinBtnProps={className:"j-btn  j-btn-super-big "};state.isLoading?(joinBtnProps.className+=" j-btn-disabled ",joinBtnProps.text="加入中"):(joinBtnProps.className+=" j-btn-orange ",joinBtnProps.text="加入");var btnDom=React.createElement("input",{className:joinBtnProps.className,type:"submit",value:joinBtnProps.text}),rechargeDom=null,rechargeValue=numeral(avaliablePoint).subtract(preBuyAllMoney)<0?!0:!1;return rechargeValue&&(rechargeDom=React.createElement("span",{className:"recharge"},React.createElement("em",{className:"orange"},"您的余额不足"),React.createElement("a",{href:"/pc/user/trade/recharge"},"充值")),btnDom=React.createElement("div",{className:"j-btn  j-btn-super-big  j-btn-disabled"},"加入")),React.createElement(RDialog,dialogProps,React.createElement("div",{className:"product-uplan-body join-body"},React.createElement(RForm,_extends({},formProps,{onSubmit:this.doJoin}),React.createElement("input",{type:"hidden",name:"financePlanId",value:id,readOnly:!0}),React.createElement("input",{type:"hidden",name:"cashType",value:cashType,readOnly:!0}),React.createElement("input",{type:"hidden",name:"amount",value:inputValue,readOnly:!0}),React.createElement("input",{type:"hidden",name:"couponId",value:couponId,readOnly:!0}),React.createElement("input",{type:"hidden",name:"ucodeId",value:ucodeId,readOnly:!0}),ucodeDom,React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},9==planStatus?"兑换产品":"计划名称"),React.createElement("span",{className:"value orange-highlight"},name)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"预期年化利率"),React.createElement("span",{className:"value orange-highlight"},rateEnd)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"预期收益金额"),React.createElement("span",{className:"value orange-highlight"},amountEnd)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"投资期限"),React.createElement("span",{className:"value orange-highlight"},lockPeriod,"个月")),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"加入金额"),React.createElement("span",{className:"value orange-highlight"},inputValueF,"元")),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"处理方式"),React.createElement("div",{className:"value-width-3"},React.createElement(RCashType,{caOptions:caOptions,selectCashTypeChange:this.selectCashTypeChange,cashType:cashType}))),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"我的特权"),React.createElement("div",{className:"value-width-3"},React.createElement(RCoupon,{cOptions:cOptions,selectCouponChange:this.selectCouponChange,couponId:couponId}),disCountDom)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"应付金额"),React.createElement("span",{className:"value w110"},React.createElement("em",{className:"orange"},preBuyAllMoneyEnd,"元")),rechargeDom),React.createElement("div",{className:"info-item fn-clear"},React.createElement("div",{className:"uplan-agreement"},React.createElement("div",null,React.createElement("span",{className:isChecked?"agreement-check-img icon-we-gouxuanicon":"agreement-check-img icon-we-weigouxuanicon",onClick:this.checkAgree}),contractDom))),React.createElement("div",{className:"error-msg"},state.errorMsg),React.createElement("div",{className:"ui-confirm-submit-box  mt10 text-center"},btnDom),footerDom)))},RProductUplanJoinDialog}(React.Component);module.exports=RProductUplanJoinDialog});
;/*!/client/widget/product/detail/RProductUplanPreminumJoinDialog/RProductUplanPreminumJoinDialog.js*/
define("uplan:widget/product/detail/RProductUplanPreminumJoinDialog/RProductUplanPreminumJoinDialog.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},React=require("common:node_modules/react/react"),RDialog=require("common:widget/react-ui/RWeDialog/RWeDialog"),RForm=(require("common:widget/react-ui/RWETooltip/RWETooltip"),require("common:widget/react-ui/RForm/RForm")),RCoupon=(require("common:widget/react-ui/RSelect/RSelect"),require("uplan:widget/product/detail/RCashType/RCashType"),require("uplan:widget/product/detail/RCoupon/RCoupon")),service=(RForm.TextInput,require("common:widget/ui/service/service-factory")),uplanService=service.getService("uplan"),utils=require("common:widget/ui/utils/utils"),numeral=require("common:node_modules/numeral/numeral"),uplanUtils=require("uplan:widget/product/detail/common/js/uplan-product-util.js"),RProductUplanJoinDialog=function(_React$Component){function RProductUplanJoinDialog(props){_classCallCheck(this,RProductUplanJoinDialog),_React$Component.call(this,props),this.doJoin=this.doJoin.bind(this),this.selectCouponChange=this.selectCouponChange.bind(this),this.checkAgree=this.checkAgree.bind(this),this.state={isFirstRender:!0,checked:!0,isLoading:!1,hideErrorMsg:"",errorMsg:"",period:null,expectedRateUplan:null,couponId:null,couponValue:null,couponTypeEng:null,incrInterestRate:null,couponList:null}}return _inherits(RProductUplanJoinDialog,_React$Component),RProductUplanJoinDialog.prototype.componentDidMount=function(){this.getCouponList()},RProductUplanJoinDialog.prototype.getCouponList=function(){var _this=this,props=this.props,detailInfo=props.detailInfo,inputValue=props.inputValue,financePlan=detailInfo.financePlan,businessId=financePlan.id,businessName=financePlan.name,buyInRate=financePlan.buyInRate,lockPeriod=(financePlan.category,financePlan.lockPeriod),uplanType=financePlan.financePlanType,businessCategory="PREMIUM",payAmount=uplanUtils.getPayAmount(inputValue,buyInRate);uplanService.getCouponList({businessCategory:businessCategory,payAmount:payAmount,businessId:businessId,businessName:businessName,lockPeriod:lockPeriod,uplanType:uplanType}).then(function(result){var requestStatus=result.requestStatus,data=result.data||{},status=data.status;if(requestStatus===uplanService.STATUS.SUCCESS&&0===status)_this.setState({couponList:data.data});else{var message=data.message||"请求后端服务出错, 请稍后再试";console.log("请求我的特权列表出错："+message)}}).caught(function(msg){console.log("请求我的特权列表出错："+msg)})},RProductUplanJoinDialog.prototype.doJoin=function(e){this.setState({isLoading:!0});var target=e.currentTarget,disable=$(target).hasClass("j-btn-disabled");if(disable)return!1;var checked=this.state.checked;return checked?void e.target.submit():(this.setState({isLoading:!1,errorMsg:"请阅读并同意协议"}),!1)},RProductUplanJoinDialog.prototype.getCouponOptions=function(couponList){var defaultValue=0,options=[];return couponList?(couponList.forEach(function(item){var name=item.name,couponId=item.couponId;options.push({value:couponId,label:name})}),options.push({value:defaultValue,label:"不使用优惠券"})):options.push({value:defaultValue,label:"无可用的优惠券"}),options},RProductUplanJoinDialog.prototype.selectCouponChange=function(val){var couponId=void 0,couponValue=void 0,couponTypeEng=void 0,incrInterestRate=void 0,couponList=this.state.couponList;val>0?couponList.forEach(function(item){return couponId=item.couponId,couponId==val?(couponValue=item.couponValue,couponTypeEng=item.couponTypeEng,void(incrInterestRate=item.incrInterestRate)):void 0}):0==val&&(couponValue=0,incrInterestRate=0,couponTypeEng=-1),this.setState({couponId:val,couponValue:couponValue,couponTypeEng:couponTypeEng,incrInterestRate:incrInterestRate,isFirstRender:!1})},RProductUplanJoinDialog.prototype.checkAgree=function(){this.setState({checked:!this.state.checked})},RProductUplanJoinDialog.prototype.getNumbersSelectChange=function(paramsData){var couponList=paramsData.couponList,preBuyAllMoney=paramsData.preBuyAllMoney,cashType=paramsData.cashType,compoundInterest=paramsData.compoundInterest,simpleInterest=paramsData.simpleInterest,lockPeriod=paramsData.lockPeriod,state=this.state,couponValue=state.couponValue,couponTypeEng=state.couponTypeEng,incrInterestRate=state.incrInterestRate,params={couponList:couponList,preBuyAllMoney:preBuyAllMoney,cashType:cashType,compoundInterest:compoundInterest,simpleInterest:simpleInterest,lockPeriod:lockPeriod,couponValue:couponValue,couponTypeEng:couponTypeEng,incrInterestRate:incrInterestRate},result=uplanUtils.getNumbersSelectChange(params);return result},RProductUplanJoinDialog.prototype.render=function(){var props=this.props,state=this.state,cashType="INVEST",couponList=state.couponList,isFirstRender=state.isFirstRender,detailInfo=props.detailInfo,inputValue=props.inputValue,financePlan=detailInfo.financePlan,compoundInterest=detailInfo.compoundInterest,avaliablePoint=detailInfo.avaliablePoint,name=financePlan.name,id=financePlan.id,category=financePlan.category,contractHref="/financeplan/getDemoFinancePlanContract.action?financePlanId="+id,yearRateDom=null,expectedRate=financePlan.expectedRate;yearRateDom="OLD"!=category?compoundInterest:expectedRate;var lockPeriod=financePlan.lockPeriod,cOptions=this.getCouponOptions(couponList),couponId=state.couponId||0==state.couponId?state.couponId:cOptions[0].value,isChecked=state.checked,buyInRate=financePlan.buyInRate,preBuyAllMoney=uplanUtils.getPayAmount(inputValue,buyInRate),preBuyAllMoneyEnd=preBuyAllMoney,rateEnd=yearRateDom+"%",simpleInterest=financePlan.expectedRateUplan,isShowDiscount=!1,discount=0,result=null,paramsData={couponList:couponList,rateEnd:rateEnd,preBuyAllMoney:preBuyAllMoney,preBuyAllMoneyEnd:preBuyAllMoneyEnd,cashType:cashType,compoundInterest:compoundInterest,simpleInterest:simpleInterest,lockPeriod:lockPeriod};isFirstRender?(console.log("首次加载~~~~"),result=uplanUtils.getNumbersFirst(paramsData)):(console.log("非首次加载~~~~"),result=this.getNumbersSelectChange(paramsData)),result&&result.rateEnd&&(rateEnd=result.rateEnd,preBuyAllMoneyEnd=result.preBuyAllMoneyEnd?result.preBuyAllMoneyEnd:preBuyAllMoneyEnd,isShowDiscount=result.isShowDiscount,discount=result.discount),preBuyAllMoneyEnd=utils.commaFloat(preBuyAllMoneyEnd);var inputValueF=inputValue?utils.commaInteger(inputValue):0,formProps={action:"/pc/uplan/product/planBuy",method:"POST",id:"product-uplan-join-form"},dialogProps={showing:!0,title:"确认加入",dialog:{className:"product-uplan-dialog product-uplan-join-dialog",style:{width:700}},onRequestClose:props.onRequestClose},disCountDom=isShowDiscount?React.createElement("div",{className:"discount-tips"},"本次投资可抵扣",discount,"元"):null,joinBtnProps={className:"j-btn  j-btn-super-big "};state.isLoading?(joinBtnProps.className+=" j-btn-disabled ",joinBtnProps.text="加入中"):(joinBtnProps.className+=" j-btn-orange ",joinBtnProps.text="加入");var btnDom=React.createElement("input",{className:joinBtnProps.className,type:"submit",value:joinBtnProps.text}),rechargeDom=null,rechargeValue=numeral(avaliablePoint).subtract(preBuyAllMoney)<0?!0:!1;return rechargeValue&&(rechargeDom=React.createElement("span",{className:"recharge"},React.createElement("em",{className:"orange"},"您的余额不足"),React.createElement("a",{href:"/pc/user/trade/recharge"},"充值")),btnDom=React.createElement("div",{className:"j-btn  j-btn-super-big  j-btn-disabled"},"加入")),React.createElement(RDialog,dialogProps,React.createElement("div",{className:"product-uplan-body join-preminum-body"},React.createElement(RForm,_extends({},formProps,{onSubmit:this.doJoin}),React.createElement("input",{type:"hidden",name:"financePlanId",value:id,readOnly:!0}),React.createElement("input",{type:"hidden",name:"cashType",value:cashType,readOnly:!0}),React.createElement("input",{type:"hidden",name:"amount",value:inputValue,readOnly:!0}),React.createElement("input",{type:"hidden",name:"couponId",value:couponId,readOnly:!0}),React.createElement("input",{type:"hidden",name:"preminum",value:"preminum",readOnly:!0}),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"计划名称"),React.createElement("span",{className:"value orange-highlight"},name)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"预期年化利率"),React.createElement("span",{className:"value orange-highlight"},rateEnd)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"加入金额"),React.createElement("span",{className:"value orange-highlight"},inputValueF,"元")),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"处理方式"),React.createElement("span",{className:"value orange-highlight"},"收益再投资")),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"我的特权"),React.createElement("div",{className:"value-width-3"},React.createElement(RCoupon,{cOptions:cOptions,selectCouponChange:this.selectCouponChange,couponId:couponId}),disCountDom)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"应付金额"),React.createElement("span",{className:"value w110"},React.createElement("em",{className:"orange"},preBuyAllMoneyEnd,"元")),rechargeDom),React.createElement("div",{className:"info-item fn-clear"},React.createElement("div",{className:"uplan-agreement"},React.createElement("div",null,React.createElement("span",{className:isChecked?"agreement-check-img icon-we-gouxuanicon":"agreement-check-img icon-we-weigouxuanicon",onClick:this.checkAgree}),React.createElement("span",{className:"agreement-desc"},"我已阅读并同意签署",React.createElement("a",{href:contractHref,target:"_blank"},"《",name,"协议》"),"及",React.createElement("a",{href:"https://www.renrendai.com/pc/agreement/contract/currency/cmsId/58ec7c0d090cc9096532d0ca",target:"_blank"},"《风险提示》"))))),React.createElement("div",{className:"error-msg"},state.errorMsg),React.createElement("div",{className:"ui-confirm-submit-box  mt10 text-center"},btnDom),React.createElement("div",{className:"notice-con"},React.createElement("div",{className:"notice-title"},"温馨提示"),React.createElement("ul",{className:"notice-desc "},React.createElement("li",null,"1.兑换优惠券，可点击以下链接",React.createElement("a",{href:"/pc/user/privilege#privilege-my-coupon"},"兑换优惠券"),"。"),React.createElement("li",null,"2.预期年化利率不代表实际收益，投资需谨慎。"))))))},RProductUplanJoinDialog}(React.Component);module.exports=RProductUplanJoinDialog});
;/*!/client/widget/product/detail/RProductUplanDetailStatusForm/RProductUplanDetailStatusForm.js*/
define("uplan:widget/product/detail/RProductUplanDetailStatusForm/RProductUplanDetailStatusForm.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),utils=(require("common:node_modules/moment/moment"),require("common:widget/ui/utils/utils")),RWeStatusDialog=(require("common:widget/react-ui/RForm/RForm"),require("common:widget/react-ui/RWeStatusDialog/RWeStatusDialog")),RProductUplanJoinDialog=require("uplan:widget/product/detail/RProductUplanJoinDialog/RProductUplanJoinDialog"),RProductUplanPreminumJoinDialog=require("uplan:widget/product/detail/RProductUplanPreminumJoinDialog/RProductUplanPreminumJoinDialog"),RProductUplanDetailStatusForm=function(_React$Component){function RProductUplanDetailStatusForm(props){_classCallCheck(this,RProductUplanDetailStatusForm),_React$Component.call(this,props);var buyResult=this.props.buyResult,show=buyResult?!0:!1;this.state={errorMessage:"",inputValue:"",showDialog:!1,isLoading:!1,showCommonDialog:show},this.closeCommonDialog=this.closeCommonDialog.bind(this),this.closeDialog=this.closeDialog.bind(this),this.handleResult=this.handleResult.bind(this),this.handleChange=this.handleChange.bind(this),this.joinUplan=this.joinUplan.bind(this)}return _inherits(RProductUplanDetailStatusForm,_React$Component),RProductUplanDetailStatusForm.prototype.componentWillMount=function(){var detailInfo=this.props.detailInfo,couponVo=detailInfo.couponVo;couponVo&&this.setState({inputValue:couponVo.value})},RProductUplanDetailStatusForm.prototype.closeDialog=function(){var detailInfo=this.props.detailInfo,planStatus=detailInfo.planStatus;this.setState(9==planStatus?{showDialog:!1}:{showDialog:!1,inputValue:""})},RProductUplanDetailStatusForm.prototype.handleResult=function(data){var status=data.status,message=data.message;this.setState({showDialog:!1,showCommonDialog:!0,commonStatus:status,commonMessage:message,dialogType:-1,couponList:null})},RProductUplanDetailStatusForm.prototype.renderDialog=function(){var content=null,ucodeId=null,props=this.props,state=this.state;if(!state.showDialog)return content;var inputValue=state.inputValue,dialogType=state.dialogType,detailInfo=props.detailInfo,couponVo=detailInfo.couponVo,planStatus=detailInfo.planStatus;9==planStatus&&(ucodeId=couponVo.id,inputValue=couponVo.value);var dialogProps=$.extend({},props,{detailInfo:detailInfo,ucodeId:ucodeId,inputValue:inputValue,onRequestClose:this.closeDialog,handleResult:this.handleResult,couponList:state.couponList});switch(dialogType){case 0:content=React.createElement(RProductUplanJoinDialog,dialogProps);break;case 1:content=React.createElement(RProductUplanPreminumJoinDialog,dialogProps)}return content},RProductUplanDetailStatusForm.prototype.renderCommonDialog=function(){var buyResult=this.props.buyResult,message=React.createElement("span",null,"尚未完成实名认证、交易密码设置，请前往",React.createElement("a",{href:"/pc/user/setting/accountInfo",target:"_blank"},"安全信息"),"进行认证。");buyResult&&(message=buyResult.message);var dialogProps=$.extend({},{onRequestClose:this.closeCommonDialog,status:-99999,message:message}),content=React.createElement(RWeStatusDialog,dialogProps);return content},RProductUplanDetailStatusForm.prototype.closeCommonDialog=function(){this.setState({showCommonDialog:!1})},RProductUplanDetailStatusForm.prototype.joinUplan=function(e){var dialogType=0,_props=this.props,detailInfo=_props.detailInfo,isLogin=_props.isLogin,financePlan=detailInfo.financePlan,authErrorCode=detailInfo.authErrorCode,target=e.currentTarget,disable=$(target).hasClass("disable"),money=this.state.inputValue;if(disable)return!1;var amountPerShare=financePlan.registerMultipleAmount,amountPerShareF=amountPerShare?utils.commaInteger(amountPerShare):"0";if(money.indexOf(" ")>=0)return this.setState({errorMessage:"请输入正确的金额"}),!1;if(!money||0===parseInt(money,10))return this.setState({errorMessage:"输入金额需为"+amountPerShareF+"元的整数倍"}),!1;if(!isLogin)return location.replace("/pc/passport/index/login"),!1;if(authErrorCode&&-1==authErrorCode)return this.setState({showDialog:!1,showCommonDialog:!0}),!1;var financePlanType=financePlan.financePlanType;"PREMIUM"==financePlanType&&(dialogType=1),this.setState({showDialog:!0,dialogType:dialogType})},RProductUplanDetailStatusForm.prototype.handleChange=function(e){var errorMessage="",detailInfo=this.props.detailInfo,financePlan=detailInfo.financePlan,amountMinRegShare=financePlan.minRegisterAmount,amountMinRegShareF=utils.commaInteger(amountMinRegShare),amountPerShare=financePlan.registerMultipleAmount,amountPerShareF=utils.commaInteger(amountPerShare),target=e.target,value=target.value;value=isNaN(value)?this.state.inputValue:value,amountMinRegShare!=amountPerShare?amountMinRegShare>value?errorMessage="输入金额需大于"+amountMinRegShareF+"元":value!=amountMinRegShare&&(value-amountMinRegShare)%amountPerShare!==0&&(errorMessage="递增金额需为"+amountPerShareF+"元的整数倍"):value%amountPerShare!==0&&(errorMessage="输入金额需为"+amountPerShareF+"元的整数倍"),this.setState({errorMessage:errorMessage,inputValue:value})},RProductUplanDetailStatusForm.prototype.createFormDom=function(){var _props2=this.props,detailInfo=_props2.detailInfo,isLogin=_props2.isLogin,financePlan=detailInfo.financePlan,financeLeftAmount=detailInfo.financeLeftAmount,avaliablePoint=detailInfo.avaliablePoint,financePlanSubPointId=detailInfo.financePlanSubPointId,isNovice=detailInfo.isNovice,planStatus=detailInfo.planStatus,singleMaxRegisterAmount=financePlan.singleMaxRegisterAmount;singleMaxRegisterAmount=utils.commaInteger(singleMaxRegisterAmount),avaliablePoint=avaliablePoint?utils.commaFloat(avaliablePoint):"0.00",financeLeftAmount=utils.commaInteger(financeLeftAmount);var remainMoneyDom=null;remainMoneyDom=isLogin?React.createElement("div",{className:"able-money fn-clear"},React.createElement("span",{className:"fn-left"},"账户余额",React.createElement("em",null,avaliablePoint),"元"),React.createElement("a",{className:"fn-right",target:"_blank",href:"/pc/user/trade/recharge"},"充值")):React.createElement("div",{className:"able-money"},"账户余额",React.createElement("a",{href:"/pc/passport/index/login",className:"login-a"},"登录"),"后可见");var minRegisterAmount=financePlan.minRegisterAmount,minRegisterAmountF=utils.commaInteger(minRegisterAmount),registerMultipleAmount=financePlan.registerMultipleAmount,registerMultipleAmountF=utils.commaInteger(registerMultipleAmount),placeholderDom=null;placeholderDom=minRegisterAmount==registerMultipleAmount?"输入加入金额，为"+registerMultipleAmountF+"元的整数倍":minRegisterAmountF+"元起投,递增金额"+registerMultipleAmountF+"元";var errorMessage=this.state.errorMessage,inputGroupClassName=errorMessage?"uplan-input-group error":"uplan-input-group",errorMessageDOM=errorMessage?React.createElement("div",{className:"error-message"},errorMessage):null,disableClassName=errorMessage?" disable":"",inputDom=React.createElement("input",{type:"text",ref:"uplanJoin",name:"uplanJoin",className:"uplan-input",placeholder:placeholderDom,value:this.state.inputValue,onChange:this.handleChange,maxLength:9});9==planStatus&&(inputDom=React.createElement("input",{type:"text",ref:"uplanJoin",name:"uplanJoin",className:"uplan-input",value:this.state.inputValue,disabled:!0}));var btnDom=null,novice=financePlan.novice;return btnDom=1==novice?1==isNovice?React.createElement("div",{className:"uplan-btn j-btn-orange"+disableClassName,onClick:this.joinUplan},"加入"):React.createElement("div",{className:"uplan-btn disable"},"加入"):React.createElement("div",{className:"uplan-btn j-btn-orange"+disableClassName,onClick:this.joinUplan},null==financePlanSubPointId?"加入":"追加"),React.createElement("div",{className:"uplan-product-info-status-form"},remainMoneyDom,React.createElement("div",{className:inputGroupClassName},React.createElement("div",{className:"uplan-input-inner"},inputDom,React.createElement("span",{className:"unit"},"元")),errorMessageDOM),React.createElement("ul",{className:"fn-clear prop-box"},React.createElement("li",{className:"fn-left"},"剩余金额",React.createElement("span",{className:"pl5"},financeLeftAmount,"元")),React.createElement("li",{className:"fn-right prop-box-top-limit"},"加入上限",React.createElement("span",{className:"pl5"},singleMaxRegisterAmount,"元"))),btnDom)},RProductUplanDetailStatusForm.prototype.render=function(){var showCommonDialog=this.state.showCommonDialog,statusDom=this.createFormDom(),dialogDom=this.renderDialog(),commomDialogDom=this.renderCommonDialog(),commomDialog=showCommonDialog?commomDialogDom:null;return React.createElement("div",{className:"uplan-product-info-status fn-left"},statusDom,dialogDom,commomDialog)},RProductUplanDetailStatusForm}(React.Component);module.exports=RProductUplanDetailStatusForm});
;/*!/client/widget/product/detail/RProductUplanDetailStatus/RProductUplanDetailStatus.js*/
define("uplan:widget/product/detail/RProductUplanDetailStatus/RProductUplanDetailStatus.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),moment=require("common:node_modules/moment/moment"),utils=require("common:widget/ui/utils/utils"),RProductUplanWaitStatusCountDown=require("uplan:widget/product/detail/RProductUplanWaitStatusCountDown/RProductUplanWaitStatusCountDown"),RProductUplanDetailStatusForm=require("uplan:widget/product/detail/RProductUplanDetailStatusForm/RProductUplanDetailStatusForm"),RProductUplanDetailStatus=function(_React$Component){function RProductUplanDetailStatus(props){_classCallCheck(this,RProductUplanDetailStatus),_React$Component.call(this,props)}return _inherits(RProductUplanDetailStatus,_React$Component),RProductUplanDetailStatus.prototype.waitOpenJoinStatus=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,financeDetailWaitTime=detailInfo.financeDetailWaitTime,planStatus=detailInfo.planStatus,financePlanType=financePlan.financePlanType,statusDom=null,countDownProps={planStatus:planStatus,financePlanType:financePlanType,duration:financeDetailWaitTime};if("PREMIUM"==financePlanType){var minRegisterAmount=financePlan.minRegisterAmount;minRegisterAmount=minRegisterAmount?utils.commaInteger(minRegisterAmount):"0",statusDom=React.createElement("div",{className:"uplan-product-info-status"},React.createElement("div",{className:"prop-small-box"},"起投金额:",minRegisterAmount,"元"),React.createElement(RProductUplanWaitStatusCountDown,countDownProps),React.createElement("div",{className:"stamp-new"},React.createElement("image",{src:"https://www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/WAIT.png"})))}else statusDom=React.createElement("div",{className:"uplan-product-info-status"},React.createElement("div",{className:"prop-small-box"}),React.createElement(RProductUplanWaitStatusCountDown,countDownProps),React.createElement("div",{className:"stamp-new"},React.createElement("image",{src:"https://www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/WAIT.png"})));return statusDom},RProductUplanDetailStatus.prototype.joinStatus=function(){return React.createElement(RProductUplanDetailStatusForm,this.props)},RProductUplanDetailStatus.prototype.fullStatus=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,registerCount=detailInfo.registerCount,joinAmount=detailInfo.joinAmount,openBuyerCount=(detailInfo.earnInterest,detailInfo.openBuyerCount),financePlanType=financePlan.financePlanType,statusDom=null;return"PREMIUM"==financePlanType?(joinAmount=joinAmount?utils.commaFloat(joinAmount):"0.00",statusDom=React.createElement("div",{className:"uplan-product-info-status"},React.createElement("div",{className:"prop-small-box"},"加入人次：",registerCount),React.createElement("ul",{className:"prop-big-box prop-name-orange"},React.createElement("li",{className:"prop-value"},joinAmount,React.createElement("i",null,"元")),React.createElement("li",{className:"prop-name"},"加入金额")),React.createElement("div",{className:"stamp-new"},React.createElement("image",{src:"https://www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/PLAN-OK.png"})))):statusDom=React.createElement("div",{className:"uplan-product-info-status"},React.createElement("div",{className:"prop-small-box"},"等待计息"),React.createElement("ul",{className:"prop-big-box prop-name-orange"},React.createElement("li",{className:"prop-value"},openBuyerCount,React.createElement("i",null,"人")),React.createElement("li",{className:"prop-name"},"加入人次")),React.createElement("div",{className:"stamp-new"},React.createElement("image",{src:"https://www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/PLAN-OK.png"}))),statusDom},RProductUplanDetailStatus.prototype.incommingStatus=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,registerCount=detailInfo.registerCount,joinAmount=detailInfo.joinAmount,earnInterest=detailInfo.earnInterest,quitWaitTime=detailInfo.quitWaitTime,financePlanType=financePlan.financePlanType,category=financePlan.category,statusDom=null;return"PREMIUM"==financePlanType?(joinAmount=joinAmount?utils.commaFloat(joinAmount):"0.00",statusDom=React.createElement("div",{className:"uplan-product-info-status"},React.createElement("div",{className:"prop-small-box"},"加入人次：",registerCount,"人"),React.createElement("ul",{className:"prop-big-box prop-name-orange"},React.createElement("li",{className:"prop-value"},joinAmount,React.createElement("i",null,"元")),React.createElement("li",{className:"prop-name"},"加入金额")),React.createElement("div",{className:"stamp-new"},React.createElement("image",{src:"https://www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/INCOME.png"})))):(earnInterest=earnInterest?utils.commaFloat(earnInterest):"0.00",statusDom=React.createElement("div",{className:"uplan-product-info-status"},React.createElement("div",{className:"prop-small-box"},"OLD"==category?"距离锁定结束":"距离退出还有","：",quitWaitTime,"天"),React.createElement("ul",{className:"prop-big-box prop-name-orange"},React.createElement("li",{className:"prop-value"},earnInterest,React.createElement("i",null,"元")),React.createElement("li",{className:"prop-name"},"已获利息收益")),React.createElement("div",{className:"stamp-new"},React.createElement("image",{src:"https://www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/INCOME.png"})))),statusDom},RProductUplanDetailStatus.prototype.openStatus=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,earnInterest=detailInfo.earnInterest,endLockingTime=financePlan.endLockingTime;return endLockingTime=endLockingTime>0?moment(endLockingTime).format("YYYY-MM-DD"):"",earnInterest=earnInterest?utils.commaFloat(earnInterest):"0.00",React.createElement("div",{className:"uplan-product-info-status"},React.createElement("div",{className:"prop-small-box"},"锁定期结束时间：",endLockingTime),React.createElement("ul",{className:"prop-big-box prop-name-orange"},React.createElement("li",{className:"prop-value"},earnInterest,React.createElement("i",null,"元")),React.createElement("li",{className:"prop-name "},"累计收益")),React.createElement("div",{className:"stamp-new"},React.createElement("image",{src:"https://www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/OPEN.png"})))},RProductUplanDetailStatus.prototype.quitStatus=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,registerCount=detailInfo.registerCount,joinAmount=detailInfo.joinAmount,earnInterest=detailInfo.earnInterest,financePlanType=financePlan.financePlanType,statusDom=null;if("PREMIUM"==financePlanType)joinAmount=joinAmount?utils.commaFloat(joinAmount):"0.00",statusDom=React.createElement("div",{className:"uplan-product-info-status"},React.createElement("div",{className:"prop-small-box"},"加入人数：",registerCount,"人"),React.createElement("ul",{className:"prop-big-box prop-name-orange"},React.createElement("li",{className:"prop-value"},joinAmount,React.createElement("i",null,"元")),React.createElement("li",{className:"prop-name "},"累计收益")),React.createElement("div",{className:"stamp-new"},React.createElement("image",{src:"https://www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/QUIT.png"})));else{var endLockingTime=financePlan.endLockingTime;endLockingTime=moment(endLockingTime).format("YYYY-MM-DD"),earnInterest=earnInterest?utils.commaFloat(earnInterest):"0.00",statusDom=React.createElement("div",{className:"uplan-product-info-status"},React.createElement("div",{className:"prop-small-box"},"退出时间：",endLockingTime),React.createElement("ul",{className:"prop-big-box prop-name-orange"},React.createElement("li",{className:"prop-value"},earnInterest,React.createElement("i",null,"元")),React.createElement("li",{className:"prop-name "},"累计收益")),React.createElement("div",{className:"stamp-new"},React.createElement("image",{src:"https://www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/QUIT.png"})))}return statusDom},RProductUplanDetailStatus.prototype.ucodeStatus=function(){return React.createElement(RProductUplanDetailStatusForm,this.props)},RProductUplanDetailStatus.prototype.render=function(){var props=this.props,detailInfo=(this.state,props.detailInfo),planStatus=detailInfo.planStatus,statusDom=null;switch(planStatus){case 3:statusDom=this.waitOpenJoinStatus();break;case 4:statusDom=this.joinStatus();break;case 5:statusDom=this.fullStatus();break;case 6:statusDom=this.incommingStatus();break;case 7:statusDom=this.openStatus();break;case 8:statusDom=this.quitStatus();break;case 9:statusDom=this.ucodeStatus()}return React.createElement("div",{className:"uplan-product-info-status fn-left"},statusDom)},RProductUplanDetailStatus}(React.Component);module.exports=RProductUplanDetailStatus});
;/*!/client/widget/product/detail/RProductUplanDetailProduct/RProductUplanDetailProduct.js*/
define("uplan:widget/product/detail/RProductUplanDetailProduct/RProductUplanDetailProduct.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),utils=require("common:widget/ui/utils/utils"),RWETooltip=require("common:widget/react-ui/RWETooltip/RWETooltip"),RProductUplanDetailStatus=require("uplan:widget/product/detail/RProductUplanDetailStatus/RProductUplanDetailStatus"),RProductUplanDetailProduct=function(_React$Component){function RProductUplanDetailProduct(props){_classCallCheck(this,RProductUplanDetailProduct),_React$Component.call(this,props)}return _inherits(RProductUplanDetailProduct,_React$Component),RProductUplanDetailProduct.prototype.componentDidMount=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,financeLeftAmount=detailInfo.financeLeftAmount;financeLeftAmount=financeLeftAmount?utils.commaFloat(financeLeftAmount):"0.00";var refer=document.referrer,plan_id=financePlan.id,plan_name=financePlan.name,base_expected_rate=null==financePlan.baseInterestRate?financePlan.expectedRate:financePlan.baseInterestRate,extra_rate=financePlan.extraInterestRate,month=financePlan.lockPeriod,min_amount=financePlan.minRegisterAmount,enter_max=financePlan.singleMaxRegisterAmount,total_need_amount=financePlan.amount,left_need_amount=financeLeftAmount,enter_min="加入金额"+financePlan.minRegisterAmount+"元起，且为"+financePlan.registerMultipleAmount+"元的整数倍递增。";zhuge.track("Enter Plan Detail",{source:refer,plan_id:plan_id,base_expected_rate:base_expected_rate,extra_rate:extra_rate,month:month,min_amount:min_amount,plan_name:plan_name,enter_max:enter_max,total_need_amount:total_need_amount,left_need_amount:left_need_amount,enter_min:enter_min,click_time:(new Date).toString()})},RProductUplanDetailProduct.prototype.productDetailDom=function(){var detailInfo=this.props.detailInfo,financePlan=detailInfo.financePlan,showInterest=detailInfo.showInterest,lockDays=detailInfo.lockDays,planStatus=detailInfo.planStatus,joinAmount=detailInfo.joinAmount,registerCount=detailInfo.registerCount,tag=(financePlan.name,financePlan.tag),category=(financePlan.id,financePlan.category),financePlanType=financePlan.financePlanType,expectedRate=financePlan.expectedRate,baseInterestRate=financePlan.baseInterestRate;baseInterestRate=utils.fixFloat1(baseInterestRate);var extraInterestRate=financePlan.extraInterestRate,extraInterestRateF=utils.fixFloat1(extraInterestRate),showInterestF=utils.fixFloat1(showInterest),yearRateDom=null;yearRateDom="OLD"!=category?0==extraInterestRate||null==extraInterestRate?React.createElement("li",{className:"value"},showInterestF,React.createElement("i",null,"%")):React.createElement("li",{className:"value"},baseInterestRate,React.createElement("i",null,"%"),React.createElement("i",{className:"extra-rate-plus"},"+"),React.createElement("em",{className:"extra-rate"},extraInterestRateF),React.createElement("i",null,"%")):React.createElement("li",{className:"value"},expectedRate);var novice=financePlan.novice,lockPeriod=financePlan.lockPeriod,periodDom=1==novice&&1==lockPeriod?React.createElement("li",{className:"value"},lockDays,React.createElement("i",null,"天")):React.createElement("li",{className:"value"},lockPeriod,React.createElement("i",null,"个月")),planDom=null;if("PREMIUM"==financePlanType)planDom=React.createElement("ul",{className:"invest-money fn-left"},React.createElement("li",{className:"preminum-head-tag"},tag));else if(5==planStatus||6==planStatus)joinAmount=joinAmount?utils.commaInteger(joinAmount):"0",planDom=React.createElement("ul",{className:"invest-money fn-left"},React.createElement("li",{className:"value"},joinAmount,React.createElement("i",null,"元")),React.createElement("li",{className:"name"},"加入金额"));else{var amount=financePlan.amount;amount=amount?utils.commaInteger(amount):"0",planDom=React.createElement("ul",{className:"invest-money fn-left"},React.createElement("li",{className:"value"},amount,React.createElement("i",null,"元")),React.createElement("li",{className:"name"},"计划金额"))}var tooltipProps={id:"product-uplan-tooltip-01",place:"right",tip:"预期年化利率不代表实际利息收益",delayHide:100};registerCount=utils.commaInteger(registerCount);var Join7PeopleDom="PREMIUM"!=financePlanType?React.createElement("ul",{className:"fn-clear"},React.createElement("li",{className:"fn-left"},"近七天加入",React.createElement("span",{className:"extra-value"},registerCount,"人"))):null,singleMaxRegisterAmount=financePlan.singleMaxRegisterAmount;return singleMaxRegisterAmount=singleMaxRegisterAmount?utils.commaInteger(singleMaxRegisterAmount):"--",React.createElement("div",null,React.createElement("div",{className:"product-info-invest fn-clear"},React.createElement("ul",{className:"invest-rate fn-left"},yearRateDom,React.createElement("li",{className:"name"},"预期年化利率",React.createElement(RWETooltip,tooltipProps))),React.createElement("ul",{className:"invest-period fn-left"},periodDom,React.createElement("li",{className:"name"},"投资期限")),planDom),React.createElement("div",{className:"product-info-extra"},React.createElement("ul",{className:"fn-clear"},React.createElement("li",{className:"fn-left"},"保障方式",React.createElement("span",{className:"extra-value"},"100%适用",React.createElement("a",{target:"_blank",href:"https://www.renrendai.com/pc/about/rrdHelp/protection/cmsId/58eee27251c5a309752c2dea"},"用户利益保障机制"))),React.createElement("li",{className:"fn-left"},"加入上限",React.createElement("span",{className:"extra-value"},singleMaxRegisterAmount,"元"))),Join7PeopleDom))},RProductUplanDetailProduct.prototype.render=function(){var props=this.props,detailInfo=(this.state,props.detailInfo),financePlan=detailInfo.financePlan,name=financePlan.name,tag=financePlan.tag,id=financePlan.id,financePlanType=financePlan.financePlanType,contractHref="/financeplan/getDemoFinancePlanContract.action?financePlanId="+id,tagDom="PREMIUM"==financePlanType?null:React.createElement("span",{className:"tag"},tag),productDetailDom=this.productDetailDom();return React.createElement("div",{id:"wdg-detail-uplan-product",className:"container_12_1080 color-white-bg"},React.createElement("ul",{className:"ui-title fn-clear"},React.createElement("li",{className:"fn-left"},name,tagDom),React.createElement("li",{className:"fn-right"},React.createElement("a",{href:contractHref,target:"_blank"},name,"协议范本"))),React.createElement("div",{className:"ui-product-info fn-clear"},React.createElement("div",{className:"product-info-main  fn-left"},productDetailDom),React.createElement(RProductUplanDetailStatus,this.props)))},RProductUplanDetailProduct}(React.Component);module.exports=RProductUplanDetailProduct});
;/*!/client/widget/product/detail/RProductUplanDetailProcess/RProductUplanDetailProcess.js*/
define("uplan:widget/product/detail/RProductUplanDetailProcess/RProductUplanDetailProcess.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),moment=require("common:node_modules/moment/moment"),utils=require("common:widget/ui/utils/utils"),RProductUplanDetailProcess=function(_React$Component){function RProductUplanDetailProcess(props){_classCallCheck(this,RProductUplanDetailProcess),_React$Component.call(this,props)}return _inherits(RProductUplanDetailProcess,_React$Component),RProductUplanDetailProcess.prototype.getPremiumDom=function(){var detailInfo=this.props.detailInfo,financePlan=detailInfo.financePlan,category=detailInfo.category,preferredIncomeVo=detailInfo.preferredIncomeVo,showInterest=detailInfo.showInterest,finalPeriod=financePlan.finalPeriod,lockPeriod=financePlan.lockPeriod,subPeriod=finalPeriod-lockPeriod,periodDom=subPeriod%12==0?subPeriod/12+"年":subPeriod+"个月",twYearExpIncome=preferredIncomeVo.twYearExpIncome,thYearExpIncome=preferredIncomeVo.thYearExpIncome,twfYearExpIncome=preferredIncomeVo.twfYearExpIncome,twDayExpIncome=preferredIncomeVo.twDayExpIncome,thDayExpIncome=preferredIncomeVo.thDayExpIncome,twfDayExpIncome=preferredIncomeVo.twfDayExpIncome;return twDayExpIncome=twDayExpIncome?utils.commaFloat(twDayExpIncome):"0.00",thDayExpIncome=twDayExpIncome?utils.commaFloat(thDayExpIncome):"0.00",twfDayExpIncome=twDayExpIncome?utils.commaFloat(twfDayExpIncome):"0.00",React.createElement("div",{className:"ui-premium-box"},React.createElement("div",{className:"ui-premium-box-item"},React.createElement("div",{className:"second-title pb20"},"退出机制灵活，设",periodDom,"自由期"),React.createElement("ul",{className:"ul-plan-introduce"},React.createElement("li",{className:"bg-gray"},"1、",financePlan.lockPeriod,"个月到期后，计划转入自由期。"),React.createElement("li",null,"2、自由期内，可随时申请免费退出。"),React.createElement("li",{className:"bg-gray"},"3、自由期内，预期年化利率","OLD"!=category?showInterest:financePlan.expectedRate,"%，按日计算收益。"),React.createElement("li",null,"4、自由期内，退出计划时可灵活选择退出金额。"),React.createElement("li",{className:"bg-gray"},"5、",periodDom,"自由期届满后，将自动退出计划。"))),React.createElement("div",{className:"ui-premium-box-item pb30"},React.createElement("div",{className:"second-title pb10 pt30"},"按日计算收益，预期收益逐年递增"),React.createElement("div",{className:"third-title"},"优选计划按日计算收益，每年滚动投资，预期收益逐年递增，以加入10,000元为例，预期收益如下："),React.createElement("table",{className:"income-table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("th",{className:"t-title"},React.createElement("span",null,"期限")),React.createElement("th",{className:"t-title"},React.createElement("span",null,"年预期收益")),React.createElement("th",{className:"t-title"},React.createElement("span",null,"日预期收益"))),React.createElement("tr",null,React.createElement("td",{className:"t-desc"},React.createElement("span",null,"12个月内")),React.createElement("td",{className:"color-orange-text"},React.createElement("span",null,twYearExpIncome,"元")),React.createElement("td",{className:"color-orange-text"},React.createElement("span",null," ",twDayExpIncome,"元"))),React.createElement("tr",null,React.createElement("td",{className:"t-desc"},React.createElement("span",null,"自由期第1年")),React.createElement("td",{className:"color-orange-text"},React.createElement("span",null,thYearExpIncome,"元")),React.createElement("td",{className:"color-orange-text"},React.createElement("span",null,thDayExpIncome,"元"))),React.createElement("tr",null,React.createElement("td",{className:"t-desc"},React.createElement("span",null,"自由期第2年")),React.createElement("td",{className:"color-orange-text"},React.createElement("span",null,twfYearExpIncome,"元")),React.createElement("td",{className:"color-orange-text"},React.createElement("span",null,twfDayExpIncome,"元")))))))},RProductUplanDetailProcess.prototype.render=function(){var props=this.props,detailInfo=(this.state,props.detailInfo),financePlan=detailInfo.financePlan,lockStartTime=detailInfo.lockStartTime,planSelfStatus=detailInfo.planSelfStatus,category=financePlan.category,beginResellingTime=financePlan.beginResellingTime,endLockingTime=financePlan.endLockingTime,lockPeriod=financePlan.lockPeriod,salePeriod=financePlan.salePeriod,financePlanType=financePlan.financePlanType,beginResellingTimeFormat=beginResellingTime>0?moment(beginResellingTime).format("MM月DD日 HH:mm"):"--",lockStartTimeFormat=moment(lockStartTime).format("MM月DD日 HH:mm"),endLockingTimeFormat=moment(endLockingTime).format("YYYY年MM月DD日"),extraDom=null,endLockingDom=null,extraTitleDom=null,joinUplanHrefDom=null,process2NameDom=void 0,processOneRectColorClassName="ui-detail-product-process-info-rect rect-left-gray",processOneBgColorClassName="fn-left process-date-box-01 bg-gray",processTwoRectColorClassName="ui-detail-product-process-info-rect rect-left-gray",processThreeRectColorClassName="ui-detail-product-process-info-rect rect-right-gray",processThreeBgColorClassName="fn-right process-date-box-02 bg-gray";return"PREMIUM"==financePlanType?(extraTitleDom=React.createElement("div",{className:"premium-second-title"},"计划周期，",salePeriod-1,"~",salePeriod,"天起息"),endLockingDom="转入自由期，随时可退",extraDom=this.getPremiumDom(),process2NameDom="开始计息"):(endLockingDom="OLD"==category?"锁定结束":"到期退出",joinUplanHrefDom=React.createElement("a",{className:"fn-right",href:"https://www.renrendai.com/pc/about/rrdHelp/topic/p/investment/fn/58732de5b436c50e334983c1",target:"_blank"},"如何加入U计划"),process2NameDom="进入锁定期"),planSelfStatus>=4&&(processOneRectColorClassName="ui-detail-product-process-info-rect rect-left-blue",processOneBgColorClassName="fn-left process-date-box-01 bg-blue"),planSelfStatus>=5&&(processTwoRectColorClassName="ui-detail-product-process-info-rect rect-left-blue"),planSelfStatus>=6&&(processThreeRectColorClassName="ui-detail-product-process-info-rect rect-right-blue",processThreeBgColorClassName="fn-right process-date-box-02 bg-blue"),React.createElement("div",{id:"wdg-detail-uplan-product-process",className:"container_12_1080 color-white-bg mt20"},React.createElement("ul",{className:"ui-title fn-clear"},React.createElement("li",{className:"fn-left"},"计划进度"),joinUplanHrefDom),extraTitleDom,React.createElement("div",{className:"ui-detail-product-process"},React.createElement("div",{className:"ui-detail-product-process-info fn-clear"},React.createElement("ul",{className:"fn-left process-info-box-01"},React.createElement("li",{className:"ui-detail-product-process-info-desc"},"开始加入"),React.createElement("li",{className:"ui-detail-product-process-info-time"},beginResellingTimeFormat),React.createElement("li",{className:processOneRectColorClassName})),React.createElement("ul",{className:"fn-left  process-info-box-02"},React.createElement("li",{className:"ui-detail-product-process-info-desc"},process2NameDom),React.createElement("li",{className:"ui-detail-product-process-info-time"},lockStartTimeFormat),React.createElement("li",{className:processTwoRectColorClassName})),React.createElement("ul",{className:"fn-right  process-info-box-03"},React.createElement("li",{className:"ui-detail-product-process-info-desc"},endLockingDom),React.createElement("li",{className:"ui-detail-product-process-info-time"},endLockingTimeFormat),React.createElement("li",{className:processThreeRectColorClassName}))),React.createElement("div",{className:"ui-detail-product-process-date fn-clear"},React.createElement("div",{className:processOneBgColorClassName},salePeriod-1,"~",salePeriod,"天起息"),React.createElement("div",{className:processThreeBgColorClassName},lockPeriod,"个月持续计息"))),extraDom)},RProductUplanDetailProcess}(React.Component);module.exports=RProductUplanDetailProcess});
;/*!/client/widget/product/detail/RProductUplanDetaiTabTntro/RProductUplanDetaiTabTntro.js*/
define("uplan:widget/product/detail/RProductUplanDetaiTabTntro/RProductUplanDetaiTabTntro.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),moment=require("common:node_modules/moment/moment"),utils=require("common:widget/ui/utils/utils"),RProductUplanDetaiTabTntro=function(_React$Component){function RProductUplanDetaiTabTntro(props){_classCallCheck(this,RProductUplanDetaiTabTntro),_React$Component.call(this,props)}return _inherits(RProductUplanDetaiTabTntro,_React$Component),RProductUplanDetaiTabTntro.prototype.getCommonIntro=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,productStr=(detailInfo.showInterest,detailInfo.productStr),category=financePlan.category,id=financePlan.id,contractHref="/financeplan/getDemoFinancePlanContract.action?financePlanId="+id,incomeWayDom=null,compoundInterest=detailInfo.compoundInterest,expectedRateUplan=financePlan.expectedRateUplan;expectedRateUplan=expectedRateUplan?utils.commaFloat(expectedRateUplan):"0.00",incomeWayDom="OLD"!=category?React.createElement("dl",null,React.createElement("dd",null,"1.收益再投资 ",compoundInterest,"%"),React.createElement("dd",null,"2.提取至账户 ",expectedRateUplan,"%"),React.createElement("dd",null,React.createElement("span",{className:"em-red"},"*"),"一经选择，无法修改。")):React.createElement("dl",null,React.createElement("dt",null,"以下三种方式任选其一："),React.createElement("dd",null,"1.收益再投资"),React.createElement("dd",null,"2.提取至账户"),React.createElement("dd",null,"3.提取至银行卡")),productStr=productStr.replace(/,/g,"、");var endLockingTime=financePlan.endLockingTime;endLockingTime=moment(endLockingTime).format("YYYY年MM月DD日");var minRegisterAmount=financePlan.minRegisterAmount;minRegisterAmount=minRegisterAmount?utils.commaInteger(minRegisterAmount):"--";var registerMultipleAmount=financePlan.registerMultipleAmount;registerMultipleAmount=registerMultipleAmount?utils.commaInteger(registerMultipleAmount):"--";var singleMaxRegisterAmount=financePlan.singleMaxRegisterAmount;singleMaxRegisterAmount=singleMaxRegisterAmount?utils.commaInteger(singleMaxRegisterAmount):"--";var beginResellingTime=financePlan.beginResellingTime,lockStartTime=detailInfo.lockStartTime;beginResellingTime=beginResellingTime>0?moment(beginResellingTime).format("YYYY年MM月DD日 HH:mm"):null;var beginJoinDom=null==beginResellingTime||null==lockStartTime?"--":beginResellingTime,quitWayDom="OLD"!=category?"系统将通过债权转让自动完成退出，您所持债权转让完成的具体时间，视债权转让市场交易情况而定。":React.createElement("span",null,"通过债权转让方式退出。",React.createElement("span",{className:"em-red"},"*"),"具体退出完成时间，视债权转让市场交易情况而定。"),exitWayDom="OLD"!=category?React.createElement("span",null,"锁定期内支持提前退出，详情参见",React.createElement("a",{href:contractHref,target:"_blank"},"《U计划服务协议》")," "):"不支持天退出",feeDom=null,quitRateAdvance=financePlan.quitRateAdvance;quitRateAdvance=quitRateAdvance?utils.fixFloat1(quitRateAdvance):"0.0";var buyInRateDom=financePlan.buyInRate?financePlan.buyInRate+"%":"0.0%",interestRateDom=financePlan.interestRate?financePlan.interestRate+"%":"0.0%",quitRateDom=financePlan.quitRate?financePlan.quitRate+"%":"0.0%";return feeDom="OLD"!=category?React.createElement("dl",null,React.createElement("dd",null,"加入费用：",React.createElement("span",{className:"em-orange"},buyInRateDom)),React.createElement("dd",null,"管理费用：参见",React.createElement("a",{href:contractHref},"《U计划服务协议》")),React.createElement("dd",null,"退出费用：",React.createElement("span",{className:"em-orange"},quitRateDom)),React.createElement("dd",null,"提前退出费用：加入金额 x ",React.createElement("span",{className:"em-orange"},quitRateAdvance,"%"),"，详情参见",React.createElement("a",{href:contractHref},"《U计划服务协议》"))):React.createElement("dl",null,React.createElement("dd",null,"加入费用：",React.createElement("span",{className:"em-orange"},buyInRateDom)),React.createElement("dd",null,"服务费用：",React.createElement("span",{className:"em-orange"},interestRateDom)),React.createElement("dd",null,"退出费用：",React.createElement("span",{className:"em-orange"},quitRateDom))),React.createElement("div",{className:"ui-uplan-intro pd20"},React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"名称"),React.createElement("li",{className:"item-value fn-left"},financePlan.name)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear bg-gray"},React.createElement("li",{className:" item-name fn-left"},"计划介绍"),React.createElement("li",{className:"item-value fn-left"},financePlan.introduce)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"投标范围"),React.createElement("li",{className:"item-value fn-left"},productStr)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear bg-gray"},React.createElement("li",{className:" item-name fn-left"},"利息收益处理方式",React.createElement("br",null),"及预期年化利率"),React.createElement("li",{className:"item-value fn-left"},incomeWayDom)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"锁定期"),React.createElement("li",{className:"item-value fn-left"},financePlan.lockPeriod,"个月")),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear bg-gray"},React.createElement("li",{className:" item-name fn-left"},"OLD"!=category?"退出日期":"锁定期结束日期"),React.createElement("li",{className:"item-value fn-left"},endLockingTime)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"加入条件"),React.createElement("li",{className:"item-value fn-left"},"加入金额",minRegisterAmount,"元起，且为",registerMultipleAmount,"元的整数倍递增。")),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear bg-gray"},React.createElement("li",{className:" item-name fn-left"},"加入上限"),React.createElement("li",{className:"item-value fn-left"},singleMaxRegisterAmount,"元")),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"开始加入时间"),React.createElement("li",{className:"item-value fn-left"},beginJoinDom)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear bg-gray"},React.createElement("li",{className:" item-name fn-left"},"到期退出方式"),React.createElement("li",{className:"item-value fn-left"},quitWayDom)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"提前退出方式"),React.createElement("li",{className:"item-value fn-left"},exitWayDom)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear bg-gray"},React.createElement("li",{className:" item-name fn-left"},"费用"),React.createElement("li",{className:"item-value fn-left"},feeDom)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"保障方式"),React.createElement("li",{className:"item-value fn-left"},"100%用户利益保障机制")),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear bg-gray"},React.createElement("li",{className:" item-name fn-left"},"服务协议"),React.createElement("li",{className:"item-value fn-left"},React.createElement("a",{href:contractHref,target:"_blank"},"【点击查看】"))))},RProductUplanDetaiTabTntro.prototype.getPremiumIntro=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,showInterest=detailInfo.showInterest,id=financePlan.id,contractHref="/financeplan/getDemoFinancePlanContract.action?financePlanId="+id,extraInterestRate=financePlan.extraInterestRate,baseInterestRate=financePlan.baseInterestRate,extraInterestRateDom=0==extraInterestRate||null==extraInterestRate?showInterest+"%":baseInterestRate+"+"+extraInterestRate+"%",quitRateAdvance=financePlan.quitRateAdvance;quitRateAdvance=quitRateAdvance?utils.fixFloat1(quitRateAdvance):"0.0";var minRegisterAmount=financePlan.minRegisterAmount,registerMultipleAmount=financePlan.registerMultipleAmount,singleMaxRegisterAmount=financePlan.singleMaxRegisterAmount;minRegisterAmount=minRegisterAmount?utils.commaInteger(minRegisterAmount):"--",registerMultipleAmount=registerMultipleAmount?utils.commaInteger(registerMultipleAmount):"--",singleMaxRegisterAmount=singleMaxRegisterAmount?utils.commaInteger(singleMaxRegisterAmount):"--";var buyInRateDom=financePlan.buyInRate?financePlan.buyInRate+"%":"0.0%",quitRateDom=(financePlan.interestRate?financePlan.interestRate+"%":"0.0%",financePlan.quitRate?financePlan.quitRate+"%":"0.0%");return React.createElement("div",{className:"ui-uplan-intro"},React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"名称"),React.createElement("li",{className:"item-value fn-left"},financePlan.name)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear  bg-gray"},React.createElement("li",{className:" item-name fn-left"},"计划介绍"),React.createElement("li",{className:"item-value fn-left"},financePlan.introduce)),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"投资期限"),React.createElement("li",{className:"item-value fn-left"},"优选计划目前加入后",financePlan.lockPeriod,"个月转入自由期，最长可持有",financePlan.finalPeriod,"个月，自由期届满后自动退出。")),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear  bg-gray"},React.createElement("li",{className:" item-name fn-left"},"收益说明"),React.createElement("li",{className:"item-value fn-left"},"预期年化利率",extraInterestRateDom,"，投资产生收益将计入下一年度收益计算基数，预期收益金额逐年递增。",React.createElement("br",null),"优选计划按日计算收益，申请退出资金中本金部分，收益将计算至实际退出日。未申请退出的资金将继续投资计息。")),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"退出方式"),React.createElement("li",{className:"item-value fn-left"},"1、",financePlan.lockPeriod,"个月内，可操作提前退出，提前退出费用为加入本金的",quitRateAdvance,"%。",React.createElement("br",null),"2、转入自由期后，可随时申请退出，不收取退出费用。平台将在申请后第",financePlan.applyQuitDays,"日受理。 并通过债权转让自动完成退出，您所持债权转让完成的具体时间，视债权转让市场交易情况而定。")),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear  bg-gray"},React.createElement("li",{className:" item-name fn-left"},"投资金额"),React.createElement("li",{className:"item-value fn-left"},"加入金额",minRegisterAmount,"元起，并以",registerMultipleAmount,"元整数倍递增。每期优选计划个人加入上限为",singleMaxRegisterAmount,"元。")),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"费用说明"),React.createElement("li",{className:"item-value fn-left"},React.createElement("dl",null,React.createElement("dd",null,"加入费用：",React.createElement("span",{className:"em-orange"},buyInRateDom)),React.createElement("dd",null,"管理费用：参见",React.createElement("a",{href:contractHref,target:"_blank"},"《优选计划服务协议》")),React.createElement("dd",null,"自由期内退出费用：",React.createElement("span",{className:"em-orange"},quitRateDom)),React.createElement("dd",null,"提前退出费用：加入金额 x ",React.createElement("span",{className:"em-orange"},quitRateAdvance,"%"),"，详情参见",React.createElement("a",{href:contractHref,target:"_blank"},"《优选计划服务协议》"))))),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear  bg-gray"},React.createElement("li",{className:" item-name fn-left"},"保障方式"),React.createElement("li",{className:"item-value fn-left"},"100%用户利益保障机制")),React.createElement("ul",{className:"ui-uplan-intro-item fn-clear"},React.createElement("li",{className:" item-name fn-left"},"服务协议"),React.createElement("li",{className:"item-value fn-left"},React.createElement("a",{href:contractHref,target:"_blank"},"【点击查看】"))))},RProductUplanDetaiTabTntro.prototype.render=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,financePlanType=financePlan.financePlanType,commonIntro=null;return commonIntro="PREMIUM"==financePlanType?this.getPremiumIntro():this.getCommonIntro(),React.createElement("div",{id:"uplan-product-tab-intro"},commonIntro)},RProductUplanDetaiTabTntro}(React.Component);module.exports=RProductUplanDetaiTabTntro});
;/*!/client/widget/product/detail/RProductUplanDetaiTabQuestion/RProductUplanDetaiTabQuestion.js*/
define("uplan:widget/product/detail/RProductUplanDetaiTabQuestion/RProductUplanDetaiTabQuestion.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RProductUplanDetaiTabQuestion=(require("common:node_modules/moment/moment"),require("common:widget/ui/utils/utils"),function(_React$Component){function RProductUplanDetaiTabQuestion(props){_classCallCheck(this,RProductUplanDetaiTabQuestion),_React$Component.call(this,props)}return _inherits(RProductUplanDetaiTabQuestion,_React$Component),RProductUplanDetaiTabQuestion.prototype.getCommonQue=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,novice=financePlan.novice,publishDom=1==novice?" 自2016年11月25日起，工作日、周末、节假日U计划系列发布时间统一为每日上午10:00(U计划-新发布时间相对灵活)，其他时间会根据用户投资情况随机发布U计划，请随时关注官网及APP灵活安排您的投资时间。":" 自2016年11月25日起，工作日、周末、节假日U计划系列发布时间统一为每日上午10:00，其他时间会根据用户投资情况随机发布U计划，请随时关注官网及APP灵活安排您的投资时间。",incomeWayDom=1==novice?" U计划-新提供“收益提取至账户由用户支配”和“收益再投资”这两种收益处理方式。":null,quitDom=1==novice?"您所持债权出售完成的具体时间，视债权转让市场交易情况而定。":null;return React.createElement("div",null,React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q1：U计划安全吗？"),React.createElement("li",{className:"question-answer"},"人人贷以严谨负责的态度对每笔借款进行严格筛选。同时，U计划所对应借款100%适用用户利益保障机制。")),React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q2：U计划发布时间？"),React.createElement("li",{className:"question-answer"},publishDom)),React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q3：U计划预期利率有多少？"),React.createElement("li",{className:"question-answer"},"U计划主要有5种， U计划A锁定期3个月，U计划B锁定期6个月，U计划C类别有3种不同长度锁定期，不同锁定期长度的U计划预期年化利率不同，具体以当期U计划公布的预期年化利率为准。")),React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q4：U计划收益处理方式是什么？"),React.createElement("li",{className:"question-answer"}," U计划提供以下两种出借所获利息收益处理方式：再出借，或由用户自行支配。用户在加入U计划时可进行选择，暂不支持中途修改。",incomeWayDom," ",React.createElement("br",null),"另外，在U计划退出后，债权转让所得资金及借款回款本息将返回至用户的民生银行存管账户，供用户自行支配。")),React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q5：锁定期是什么？"),React.createElement("li",{className:"question-answer"},"U计划有锁定期限制，锁定期内，您可操作提前退出，但会产生相应费用，提前退出费用=加入计划金额*2.0%。锁定期满后自动退出U计划，系统通过转让届时U计划所投债权标的实现您投资资金的回收。")),React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q6：U计划到期后，我如何退出并实现收益？"),React.createElement("li",{className:"question-answer"},"U计划到期当日，系统将自动通过债权转让为您收回出借本金，转让完成时间一般为1~3个工作日。",quitDom)),React.createElement("div",{className:"prompt-info"},"renrendai.com平台仅为信息发布平台，未以任何明示或暗示的方式对出借人提供担保或承诺保本保息，出借人应根据自身的投资偏好和风险承受能力进行独立判断和作出决策，并自行承担资金出借的风险与责任。市场有风险，投资需谨慎。"))},RProductUplanDetaiTabQuestion.prototype.getPremiumQue=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,finalPeriod=(detailInfo.preferredIncomeVo,financePlan.category,financePlan.finalPeriod),lockPeriod=financePlan.lockPeriod,subPeriod=finalPeriod-lockPeriod,subPeriodDom=subPeriod%12==0?subPeriod/12+"年":subPeriod+"个月";return React.createElement("div",null,React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q1：优选计划的期限有多久？"),React.createElement("li",{className:"question-answer"},"优选计划目前锁定期为",financePlan.lockPeriod,"个月，锁定期后转入自由期，自由期长度",subPeriodDom,"，到期后自动退出。")),React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q2：优选计划如何退出？"),React.createElement("li",{className:"question-answer"},financePlan.lockPeriod,"个月锁定期内，可在renrendai.com操作提前退出，提前退出费用=加入计划金额*2.0%；\u2028转入自由期后可在renrendai.com和app端随时申请退出，退出免退出费用，退出金额可灵活选择。")),React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q3：申请退出后多久可完成退出？"),React.createElement("li",{className:"question-answer"},financePlan.lockPeriod,"个月锁定期内提前退出，平台将在申请当日进行债权转让处理；转入自由期后申请退出，平台将在申请后第",financePlan.applyQuitDays,"日进行债权转让处理。债权转让处理时间一般为1-3个工作日，成功退出后资金退回到个人账户余额。")),React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q4：优选计划的利息收益处理方式？"),React.createElement("li",{className:"question-answer"},"优选计划提供的投资所获利息收益的处理方式为收益再投资（即每笔借款利息自动再投资）。")),React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q5：优选计划可以使用优惠券吗？"),React.createElement("li",{className:"question-answer"},"加入优选计划时，仅可使用现金券、抵扣券。当现金券、抵扣券券面注明支持优选计划投资时，此次投资可以使用该券。")),React.createElement("ul",{className:"ui-question-item"},React.createElement("li",{className:"question"},"Q6：优选计划可以续期吗？"),React.createElement("li",{className:"question-answer"},"目前优选计划暂不支持续期功能。")))},RProductUplanDetaiTabQuestion.prototype.render=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,financePlanType=financePlan.financePlanType,commonQuestion=null;return commonQuestion="PREMIUM"==financePlanType?this.getPremiumQue():this.getCommonQue(),React.createElement("div",{id:"uplan-product-tab-question"},commonQuestion)},RProductUplanDetaiTabQuestion}(React.Component));module.exports=RProductUplanDetaiTabQuestion});
;/*!/client/widget/product/detail/RProductUplanDetaiTabJoined/RProductUplanDetaiTabJoined.js*/
define("uplan:widget/product/detail/RProductUplanDetaiTabJoined/RProductUplanDetaiTabJoined.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},React=require("common:node_modules/react/react"),List=require("common:widget/react-ui/RList/List"),moment=require("common:node_modules/moment/moment"),service=require("common:widget/ui/service/service-factory"),uplanService=service.getService("uplan"),utils=require("common:widget/ui/utils/utils"),RProductUplanDetaiTabJoined=function(_React$Component){function RProductUplanDetaiTabJoined(props){_classCallCheck(this,RProductUplanDetaiTabJoined),_React$Component.call(this,props),this.state={buyers:null,isLoading:!1,listDOM:null}}return _inherits(RProductUplanDetaiTabJoined,_React$Component),RProductUplanDetaiTabJoined.prototype.componentWillMount=function(){this.getBuys()},RProductUplanDetaiTabJoined.prototype.getBuys=function(){var _this=this;this.setState({isLoading:!0});var detailInfo=this.props.detailInfo,financePlan=detailInfo.financePlan,id=financePlan.id;uplanService.getUplanProductBuyers({financePlanId:id}).then(function(result){var requestStatus=result.requestStatus,data=result.data||{},status=data.status;if(requestStatus===uplanService.STATUS.SUCCESS&&0===status){var listDOM=_this.creatListDom(data);_this.setState({buyers:data,isLoading:!1,listDOM:listDOM})}else{{data.message||"请求后端服务出错, 请稍后再试"}_this.setState({isLoading:!1})}}).caught(function(){_this.setState({isLoading:!1})})},RProductUplanDetaiTabJoined.prototype.createHeadDom=function(){return React.createElement("ul",{className:" fn-clear"},React.createElement("li",{className:"order-li fn-left"},React.createElement("span",{className:"order-span"},"序号")),React.createElement("li",{className:"invester-li fn-left"},React.createElement("span",{className:"invester-span"},"投资人")),React.createElement("li",{className:"amount-li fn-left"},React.createElement("span",{className:"amount-span"},"加入金额")),React.createElement("li",{className:"source-li fn-left"},React.createElement("span",{className:"source-span"},"来源")),React.createElement("li",{className:"join-time-li fn-left"},React.createElement("span",{className:"join-time-span"},"加入时间")))},RProductUplanDetaiTabJoined.prototype.createRowDom=function(item,index,uniqueKey){var className=index%2==0?"ui-list-row fn-clear dark":"ui-list-row fn-clear",ucodeUsed=!1,mobileUsed=!1,weUsed=!1;item.ucodeId?ucodeUsed=!0:"MOBILE"===item.tradeMethod?mobileUsed=!0:"PC"===item.tradeMethod&&(weUsed=!0);var amount=item.amount,createTime=item.createTime;amount=amount?utils.commaInteger(amount):"0",createTime=moment(createTime).format("YYYY年MM月DD日 HH:mm");var sourceDom=null;return ucodeUsed&&(sourceDom=React.createElement("i",{className:"icon-we-ucode"})),mobileUsed&&(sourceDom=React.createElement("i",{className:"icon-we-shoujiicon"})),weUsed&&(sourceDom=React.createElement("i",{className:"icon-we-diannaoicon"})),React.createElement("ul",{className:className},React.createElement("li",{className:"order-li fn-left"},React.createElement("span",{className:"order-span"},uniqueKey+1)),React.createElement("li",{className:"invester-li fn-left"},React.createElement("span",{className:"invester-span"},item.nickName)),React.createElement("li",{className:"amount-li fn-left"},React.createElement("span",{className:"amount-span"},amount,"元")),React.createElement("li",{className:"source-li fn-left"},React.createElement("span",{className:"source-span"},sourceDom)),React.createElement("li",{className:"join-time-li fn-left"},React.createElement("span",{className:"join-time-span"},createTime)))},RProductUplanDetaiTabJoined.prototype.creatListDom=function(buyers){var detailInfo=this.props.detailInfo,financePlan=detailInfo.financePlan,id=financePlan.id,ajaxParams={financePlanId:id};return React.createElement("div",{id:"uplan-product-tab-join-list"},React.createElement(List,_extends({},buyers,{moudleServiceName:"uplan",url:"getUplanProductBuyers",ajaxParams:ajaxParams,isHeadNeed:"yes",isHeadNeedOrder:"no",createHeadDom:this.createHeadDom,createRowDom:this.createRowDom,noDataText:"暂无加入记录",startNum:0,limit:10,offset:5})))},RProductUplanDetaiTabJoined.prototype.render=function(){var state=(this.props,this.state),payAmount=0,totalCount=0,buyers=state.buyers;buyers&&buyers.data&&(payAmount=buyers.data.totalJoinAmount,totalCount=buyers.data.totalCount,payAmount=utils.commaInteger(payAmount),totalCount=utils.commaInteger(totalCount));var listDOM=this.state.listDOM;return React.createElement("div",{id:"uplan-product-tab-join"},React.createElement("div",{className:"list-info"},"加入总人次",React.createElement("i",null,totalCount),"人，加入总金额",React.createElement("i",null,payAmount),"元"),listDOM)},RProductUplanDetaiTabJoined}(React.Component);module.exports=RProductUplanDetaiTabJoined});
;/*!/client/widget/product/detail/RProductUplanDetaiTabPerformance/RProductUplanDetaiTabPerformance.js*/
define("uplan:widget/product/detail/RProductUplanDetaiTabPerformance/RProductUplanDetaiTabPerformance.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),service=(require("common:node_modules/moment/moment"),require("common:widget/ui/service/service-factory")),uplanService=service.getService("uplan"),utils=require("common:widget/ui/utils/utils"),RProductUplanDetaiTabPerformance=function(_React$Component){function RProductUplanDetaiTabPerformance(props){_classCallCheck(this,RProductUplanDetaiTabPerformance),_React$Component.call(this,props),this.state={data:null,errorMessage:""}}return _inherits(RProductUplanDetaiTabPerformance,_React$Component),RProductUplanDetaiTabPerformance.prototype.componentWillMount=function(){var _this=this,props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,financePlanId=financePlan.id;uplanService.getPlanResult({financePlanId:financePlanId}).then(function(result){var requestStatus=result.requestStatus,data=result.data||{},status=data.status;if(requestStatus===uplanService.STATUS.SUCCESS&&0===status){var financePlanVos=data.data.financePlanVos;_this.setState({data:financePlanVos[0]})}else{var message=data.message||"请求后端服务出错, 请稍后再试";console.log("getPlanResult请求出错："+message)}}).caught(function(msg){console.log("getPlanResult请求出错："+msg)})},RProductUplanDetaiTabPerformance.prototype.getUseTimeName=function(planStatus){var statusName="满额用时";switch(planStatus){case 4:statusName="加入中";break;case 5:statusName="等待计息";break;case 6:statusName="正在计息";break;default:statusName="满额用时"}return statusName},RProductUplanDetaiTabPerformance.prototype.getUseTimeValue=function(planStatus,useTime){var statusValue=null;return 4!=planStatus&&5!=planStatus&&6!=planStatus&&(statusValue=useTime),statusValue},RProductUplanDetaiTabPerformance.prototype.getAmountName=function(planStatus){var statusName="计划金额";return(5==planStatus||6==planStatus)&&(statusName="加入金额"),statusName},RProductUplanDetaiTabPerformance.prototype.getAmountValue=function(planStatus,amount,joinAmount){var statusValue=null;return statusValue=5==planStatus||6==planStatus?joinAmount?utils.commaInteger(joinAmount):"0":amount?utils.commaInteger(amount):"0"},RProductUplanDetaiTabPerformance.prototype.getViewPlanResult=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,planStatus=detailInfo.planStatus,joinAmount=detailInfo.joinAmount,data=this.state.data,reserveDate=null,bidCount=0,borrowCount=0,earnInterest=0,provinceDist=null,provinces=-1,subPointCount=0,statusUseTImeName=null,statusUseTImeValue=null,statusAmountName=null,statusAmountValue=null,amount=0,fundsUseRate=0,averageBidInterest=0;if(amount=financePlan.amount,data){var performance=this.state.data;reserveDate=performance.reserveDate,bidCount=performance.bidCount,borrowCount=performance.borrowCount,earnInterest=performance.earnInterest,earnInterest=earnInterest?utils.commaFloat(earnInterest):"0.00",subPointCount=performance.subPointCount;var useTime=performance.useTime;statusUseTImeName=this.getUseTimeName(planStatus),statusUseTImeValue=this.getUseTimeValue(planStatus,useTime),statusUseTImeName&&(statusUseTImeValue||(statusUseTImeValue="--")),provinceDist=performance.provinceDist,provinces=performance.provinces,statusAmountName=this.getAmountName(planStatus),statusAmountValue=this.getAmountValue(planStatus,amount,joinAmount),amount=performance.amount,amount=amount?utils.commaInteger(amount):0,fundsUseRate=performance.fundsUseRate,fundsUseRate=fundsUseRate?utils.commaFloat(fundsUseRate):"0.00",averageBidInterest=performance.averageBidInterest,averageBidInterest=averageBidInterest?utils.commaFloat(averageBidInterest):"0.00"}return{reserveDate:reserveDate,bidCount:bidCount,borrowCount:borrowCount,earnInterest:earnInterest,provinceDist:provinceDist,provinces:provinces,subPointCount:subPointCount,statusUseTImeName:statusUseTImeName,statusUseTImeValue:statusUseTImeValue,statusAmountName:statusAmountName,statusAmountValue:statusAmountValue,amount:amount,fundsUseRate:fundsUseRate,averageBidInterest:averageBidInterest}},RProductUplanDetaiTabPerformance.prototype.getProvinceDom=function(provinceDist,provinces){if(0>=provinces)return null;var x=void 0,total=0;for(x in provinceDist)total+=Number(provinceDist[x]);var percentArr=[],proviceArr=[],allPercent=0;for(x in provinceDist){var percent=Math.floor(Number(provinceDist[x])/total*100);percent>0&&(percentArr.push(percent),proviceArr.push(x)),allPercent+=percent}if(provinceDist){var leftPercent=100-allPercent;leftPercent>0&&(percentArr.push(leftPercent),proviceArr.push("其它"))}var proviceItemDom=proviceArr.map(function(item,index){return React.createElement("li",{className:"fn-left",key:index}," ",React.createElement("span",{className:"area-name"},item),React.createElement("span",{className:"area-percent"},percentArr[index],"%"))});return React.createElement("div",{className:"loan-area-box borderTop"},React.createElement("div",{className:"loan-area-title"},"借款人地域分布"),React.createElement("ul",{className:"loan-area-items fn-clear"},proviceItemDom))},RProductUplanDetaiTabPerformance.prototype.getPremiumP=function(){var _getViewPlanResult=this.getViewPlanResult(),reserveDate=_getViewPlanResult.reserveDate,bidCount=_getViewPlanResult.bidCount,borrowCount=_getViewPlanResult.borrowCount,earnInterest=_getViewPlanResult.earnInterest,subPointCount=_getViewPlanResult.subPointCount,amount=_getViewPlanResult.amount,fundsUseRate=_getViewPlanResult.fundsUseRate,averageBidInterest=_getViewPlanResult.averageBidInterest,provinceDist=_getViewPlanResult.provinceDist,provinces=_getViewPlanResult.provinces,provinceDom=this.getProvinceDom(provinceDist,provinces);return React.createElement("div",null,React.createElement("div",{className:"performance-publish-time"},"发布时间：",reserveDate),React.createElement("div",{className:"performance-data-result"},React.createElement("div",{className:"ui-performance-data-items fn-clear"},React.createElement("ul",{className:"ui-performance-data-item w230 fn-left"},React.createElement("li",{className:"item-name"},"优选理财计划总额"),React.createElement("li",{className:"item-value"},amount,"元")),React.createElement("ul",{className:"ui-performance-data-item w260 fn-left"},React.createElement("li",{className:"item-name text-center"},"资金利用率"),React.createElement("li",{className:"item-value text-center"},fundsUseRate,"%")),React.createElement("ul",{className:"ui-performance-data-item w260 fn-left"},React.createElement("li",{className:"item-name text-center"},"自动投标"),React.createElement("li",{className:"item-value text-center"},bidCount,"次")),React.createElement("ul",{className:"ui-performance-data-item w230 fn-left"},React.createElement("li",{className:"item-name pl70"},"平均年利率"),React.createElement("li",{className:"item-value pl70"},averageBidInterest,"%"))),React.createElement("div",{className:"ui-performance-data-items fn-clear"},React.createElement("ul",{className:"ui-performance-data-item w230 fn-left"},React.createElement("li",{className:"item-name"},"为用户赚取"),React.createElement("li",{className:"item-value"},earnInterest,"元")),React.createElement("ul",{className:"ui-performance-data-item w260 fn-left"},React.createElement("li",{className:"item-name  text-center"},"加入本期优选计划用户"),React.createElement("li",{className:"item-value text-center "},subPointCount,"位")),React.createElement("ul",{className:"ui-performance-data-item w260 fn-left"},React.createElement("li",{className:"item-name  text-center"},"得到帮助的借款者"),React.createElement("li",{className:"item-value  text-center"},borrowCount,"位")))),React.createElement("div",{className:"loan-area"},provinceDom))},RProductUplanDetaiTabPerformance.prototype.getCommonP=function(){var _getViewPlanResult2=this.getViewPlanResult(),reserveDate=_getViewPlanResult2.reserveDate,bidCount=_getViewPlanResult2.bidCount,borrowCount=_getViewPlanResult2.borrowCount,earnInterest=_getViewPlanResult2.earnInterest,subPointCount=_getViewPlanResult2.subPointCount,statusUseTImeName=_getViewPlanResult2.statusUseTImeName,statusUseTImeValue=_getViewPlanResult2.statusUseTImeValue,statusAmountName=_getViewPlanResult2.statusAmountName,statusAmountValue=_getViewPlanResult2.statusAmountValue,provinceDist=_getViewPlanResult2.provinceDist,provinces=_getViewPlanResult2.provinces,provinceDom=this.getProvinceDom(provinceDist,provinces);return React.createElement("div",null,React.createElement("div",{className:"performance-publish-time"},"发布时间：",reserveDate),React.createElement("div",{className:"performance-data-result"},React.createElement("div",{className:"ui-performance-data-items fn-clear"},React.createElement("ul",{className:"ui-performance-data-item w230 fn-left"},React.createElement("li",{className:"item-name"},"加入人数"),React.createElement("li",{className:"item-value "},subPointCount,"位")),React.createElement("ul",{className:"ui-performance-data-item w260 fn-left"},React.createElement("li",{className:"item-name text-center"},"自动投标"),React.createElement("li",{className:"item-value text-center"},bidCount,"次")),React.createElement("ul",{className:"ui-performance-data-item w260 fn-left"},React.createElement("li",{className:"item-name text-center"},"帮助借款用户"),React.createElement("li",{className:"item-value text-center"},borrowCount,"位")),React.createElement("ul",{className:"ui-performance-data-item w230 fn-left"},React.createElement("li",{className:"item-name pl70"},"为用户赚取"),React.createElement("li",{className:"item-value pl70"},earnInterest,"元"))),React.createElement("div",{className:"ui-performance-data-items fn-clear borderTop"},React.createElement("ul",{className:"ui-performance-data-item w230 fn-left"},React.createElement("li",{className:"item-name "},statusAmountName),React.createElement("li",{className:"item-value "},statusAmountValue,"元")),React.createElement("ul",{className:"ui-performance-data-item w260 fn-left"},React.createElement("li",{className:"item-name text-center"},statusUseTImeName),React.createElement("li",{className:"item-value text-center"},statusUseTImeValue)))),React.createElement("div",{className:"loan-area"},provinceDom))},RProductUplanDetaiTabPerformance.prototype.render=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,category=(financePlan.financePlanType,financePlan.category),commonPerformance=null;return commonPerformance="OLD"!=category?this.getCommonP():this.getPremiumP(),React.createElement("div",{id:"ui-product-detail-tab-performance"},commonPerformance)},RProductUplanDetaiTabPerformance}(React.Component);module.exports=RProductUplanDetaiTabPerformance});
;/*!/client/widget/product/detail/RProductUplanDetaiTabReserve/RProductUplanDetaiTabReserve.js*/
define("uplan:widget/product/detail/RProductUplanDetaiTabReserve/RProductUplanDetaiTabReserve.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),moment=require("common:node_modules/moment/moment"),service=require("common:widget/ui/service/service-factory"),uplanService=service.getService("uplan"),utils=require("common:widget/ui/utils/utils"),RProductUplanDetaiTabTntro=function(_React$Component){function RProductUplanDetaiTabTntro(props){_classCallCheck(this,RProductUplanDetaiTabTntro),_React$Component.call(this,props),this.state={reserves:[],isLoading:!1}}return _inherits(RProductUplanDetaiTabTntro,_React$Component),RProductUplanDetaiTabTntro.prototype.componentDidMount=function(){var _this=this;this.setState({isLoading:!0});var detailInfo=this.props.detailInfo,financePlan=detailInfo.financePlan,id=financePlan.id;uplanService.getUplanProductReserveRecords({financePlanId:id}).then(function(result){var requestStatus=result.requestStatus,data=result.data||{},status=data.status;if(requestStatus===uplanService.STATUS.SUCCESS&&0===status)_this.setState({reserves:data.data,isLoading:!1});else{{data.message||"请求后端服务出错, 请稍后再试"}_this.setState({isLoading:!1})}}).caught(function(){_this.setState({isLoading:"hide"})})},RProductUplanDetaiTabTntro.prototype.createRowDom=function(){var listItems=null,totalCount=0,notPayMoney=0,reserves=this.state.reserves;return listItems=reserves.length<=0?React.createElement("div",{className:"list-no-data-text"},"暂无预定记录"):reserves.map(function(item,index){var ucodeId=item.ucodeId,nickName=item.nickName,investor=null!==ucodeId&&nickName.length>8?nickName.substr(0,8)+"...":nickName,planAmount=item.planAmount,createTime=item.createTime,date=moment(createTime).format("YYYY-MM-DD HH:mm"),reserveType=item.reserveType,className=index%2==0?"ui-list-row fn-clear dark":"ui-list-row fn-clear",ucodeUsed=!1,mobileUsed=!1,weUsed=!1;item.ucodeId?ucodeUsed=!0:"MOBILE"===item.tradeMethod?mobileUsed=!0:"PC"===item.tradeMethod&&(weUsed=!0),"未支付"==reserveType&&(notPayMoney+=planAmount),totalCount+=1;var sourceDom=null;return ucodeUsed&&(sourceDom=React.createElement("i",{className:"icon-we-ucode"})),mobileUsed&&(sourceDom=React.createElement("i",{className:"icon-we-shoujiicon"})),weUsed&&(sourceDom=React.createElement("i",{className:"icon-we-diannaoicon"})),React.createElement("ul",{className:className},React.createElement("li",{className:"order-li fn-left"},React.createElement("span",{className:"order-span"},index+1)),React.createElement("li",{className:"invester-li fn-left"},React.createElement("span",{className:"invester-span"},investor)),React.createElement("li",{className:"amount-li fn-left"},React.createElement("span",{className:"amount-span"},planAmount,"元")),React.createElement("li",{className:"join-time-li fn-left"},React.createElement("span",{className:"join-time-span"},date)),React.createElement("li",{className:"source-li fn-left"},React.createElement("span",{className:"source-span"},sourceDom)),React.createElement("li",{className:"status-li fn-left"},React.createElement("span",{className:"status-span"},reserveType)))}),{listItems:listItems,notPayMoney:notPayMoney,totalCount:totalCount}},RProductUplanDetaiTabTntro.prototype.render=function(){var state=(this.props,this.state),_createRowDom=this.createRowDom(),listItems=_createRowDom.listItems,notPayMoney=_createRowDom.notPayMoney,totalCount=_createRowDom.totalCount;notPayMoney=utils.commaInteger(notPayMoney),totalCount=utils.commaInteger(totalCount);var loadingClassName="list-loading "+(state.isLoading?"show":"hide");return React.createElement("div",{id:"uplan-product-tab-join"},React.createElement("div",{className:"list-info"},"预定人次",React.createElement("i",null,totalCount),"人，未支付金额",React.createElement("i",null,notPayMoney),"元"),React.createElement("div",{id:"uplan-product-tab-reserve-list"},React.createElement("ul",{className:"ui-list-head fn-clear"},React.createElement("li",{className:"order-li fn-left"},React.createElement("span",{className:"order-span"},"序号")),React.createElement("li",{className:"invester-li fn-left"},React.createElement("span",{className:"invester-span"},"投资人")),React.createElement("li",{className:"amount-li fn-left"},React.createElement("span",{className:"amount-span"},"加入金额")),React.createElement("li",{className:"join-time-li fn-left"},React.createElement("span",{className:"join-time-span"},"预定时间")),React.createElement("li",{className:"source-li fn-left"},React.createElement("span",{className:"source-span"},"来源")),React.createElement("li",{className:"status-li fn-left"},React.createElement("span",{className:"status-span"},"状态"))),listItems),React.createElement("div",{className:loadingClassName}))},RProductUplanDetaiTabTntro}(React.Component);module.exports=RProductUplanDetaiTabTntro});
;/*!/client/widget/product/detail/RProductUplanDetaiTab/RProductUplanDetaiTab.js*/
define("uplan:widget/product/detail/RProductUplanDetaiTab/RProductUplanDetaiTab.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),TabWrap=require("common:widget/react-ui/RTabs/RTabs"),TabNavItem=TabWrap.TabNavItem,TabNav=TabWrap.TabNav,TabPanelItem=TabWrap.TabPanelItem,TabPanel=TabWrap.TabPanel,RTabs=TabWrap.RTabs,RProductUplanDetaiTabTntro=require("uplan:widget/product/detail/RProductUplanDetaiTabTntro/RProductUplanDetaiTabTntro"),RProductUplanDetaiTabQuestion=require("uplan:widget/product/detail/RProductUplanDetaiTabQuestion/RProductUplanDetaiTabQuestion"),RProductUplanDetaiTabJoined=require("uplan:widget/product/detail/RProductUplanDetaiTabJoined/RProductUplanDetaiTabJoined"),RProductUplanDetaiTabPerformance=require("uplan:widget/product/detail/RProductUplanDetaiTabPerformance/RProductUplanDetaiTabPerformance"),RProductUplanDetaiTabReserve=require("uplan:widget/product/detail/RProductUplanDetaiTabReserve/RProductUplanDetaiTabReserve"),utils=require("common:widget/ui/utils/utils"),RProductUplanDetaiTab=function(_React$Component){function RProductUplanDetaiTab(props){_classCallCheck(this,RProductUplanDetaiTab),_React$Component.call(this,props);var tabIndex=0,isAutoScroll=!1,hashConf=utils.getHashConf();if(hashConf&&hashConf.hasOwnProperty("tab")){isAutoScroll=!0;var tempIndex=parseInt(hashConf.tab,10)||0;tabIndex=tempIndex}this.state={selectedIndex:tabIndex,autoScrollOnMount:isAutoScroll},this.onTabRequestChange=this.onTabRequestChange.bind(this)}return _inherits(RProductUplanDetaiTab,_React$Component),RProductUplanDetaiTab.prototype.componentDidMount=function(){var _this=this;this.state.autoScrollOnMount&&setTimeout(function(){try{var con=ReactDOM.findDOMNode(_this.refs.tab);con.scrollIntoView()}catch(e){}},300)},RProductUplanDetaiTab.prototype.onTabRequestChange=function(index){this.setState({selectedIndex:index})},RProductUplanDetaiTab.prototype.getTabNavItemDom=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,financePlanType=financePlan.financePlanType,id=financePlan.id,tabNavDom=null,navItemClass="detail-tab-nav-item";return"PREMIUM"==financePlanType?(navItemClass+=" detail-tab-nav-item-3",tabNavDom=React.createElement(TabNav,null,React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"计划介绍")),React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"加入记录")),React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"常见问题")))):id>56&&310>=id?(navItemClass+=" detail-tab-nav-item-5",tabNavDom=React.createElement(TabNav,null,React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"计划介绍")),React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"预定记录")),React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"加入记录")),React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"计划表现")),React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"常见问题")))):(navItemClass+=" detail-tab-nav-item-4",tabNavDom=React.createElement(TabNav,null,React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"计划介绍")),React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"加入记录")),React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"计划表现")),React.createElement(TabNavItem,{className:navItemClass},React.createElement("div",{className:"tab-title"},"常见问题")))),tabNavDom},RProductUplanDetaiTab.prototype.getTabPanelItemDom=function(){var props=this.props,detailInfo=props.detailInfo,financePlan=detailInfo.financePlan,financePlanType=financePlan.financePlanType,id=financePlan.id,tabPanelDom=null;return tabPanelDom="PREMIUM"==financePlanType?React.createElement(TabPanel,null,React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabTntro,this.props)),React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabJoined,this.props)),React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabQuestion,this.props))):id>56&&310>=id?React.createElement(TabPanel,null,React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabTntro,this.props)),React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabReserve,this.props)),React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabJoined,this.props)),React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabPerformance,this.props)),React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabQuestion,this.props))):React.createElement(TabPanel,null,React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabTntro,this.props)),React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabJoined,this.props)),React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabPerformance,this.props)),React.createElement(TabPanelItem,{className:"uplan-detail-panel-item"},React.createElement(RProductUplanDetaiTabQuestion,this.props)))},RProductUplanDetaiTab.prototype.render=function(){var TabNavDom=this.getTabNavItemDom(),TabPanelDom=this.getTabPanelItemDom();return React.createElement("div",{className:"container_12_1080 color-white-bg mt20",id:"uplan-product-tab"},React.createElement(RTabs,{ref:"tab",onRequestChange:this.onTabRequestChange,selectedIndex:this.state.selectedIndex},TabNavDom,TabPanelDom))},RProductUplanDetaiTab}(React.Component);module.exports=RProductUplanDetaiTab});
;/*!/client/widget/product/detail/RProductUplanDetail/RProductUplanDetail.js*/
define("uplan:widget/product/detail/RProductUplanDetail/RProductUplanDetail.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RProductUplanDetailProduct=require("uplan:widget/product/detail/RProductUplanDetailProduct/RProductUplanDetailProduct"),RProductUplanDetailProcess=require("uplan:widget/product/detail/RProductUplanDetailProcess/RProductUplanDetailProcess"),RProductUplanDetaiTab=require("uplan:widget/product/detail/RProductUplanDetaiTab/RProductUplanDetaiTab"),RProductUplanDetail=function(_React$Component){function RProductUplanDetail(props){_classCallCheck(this,RProductUplanDetail),_React$Component.call(this,props)}return _inherits(RProductUplanDetail,_React$Component),RProductUplanDetail.prototype.render=function(){var props=this.props,detailInfo=(this.state,props.detailInfo);return React.createElement("div",null,React.createElement(RProductUplanDetailProduct,props),React.createElement(RProductUplanDetailProcess,{detailInfo:detailInfo}),React.createElement(RProductUplanDetaiTab,{detailInfo:detailInfo}))},RProductUplanDetail}(React.Component);module.exports=RProductUplanDetail});
;/*!/client/widget/user/detail/RCashType/RCashType.js*/
define("uplan:widget/user/detail/RCashType/RCashType.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RForm=require("common:widget/react-ui/RForm/RForm"),service=(require("common:widget/ui/utils/utils"),require("common:widget/ui/service/service-factory")),uplanService=service.getService("uplan"),RCashType=function(_React$Component){function RCashType(props){_classCallCheck(this,RCashType),_React$Component.call(this,props),this.onCashTypeChanged=this.onCashTypeChanged.bind(this),this.onSubmit=this.onSubmit.bind(this),this.state={isLoading:!1,cashType:props.cashType}}return _inherits(RCashType,_React$Component),RCashType.prototype.onCashTypeChanged=function(e){this.setState({cashType:e.currentTarget.value})},RCashType.prototype.onSubmit=function(){if(!this.state.isLoading){var props=this.props,financeSubPointId=(this.state,props.financeSubPointId),financeId=props.financeId,cashType=this.state.cashType;this.setState({isLoading:!0});var data={subPointId:financeSubPointId,planId:financeId,cashType:cashType};Promise.race([uplanService.doChangeCashType(data),new Promise(function(resolve,reject){setTimeout(function(){reject({status:-99999,message:"网络异常，请求超时，请稍后再测试"})},1e4)})]).then(function(result){if(result.requestStatus!==uplanService.STATUS.SUCCESS)return props.handleChangeCashType(data),Promise.reject();var _data=result.data;0==_data.status&&(_data.message="提款方式修改成功！"),props.handleChangeCashType(_data)}).caught(function(data){data=data||{status:-2,message:"网络异常，请稍后再测试"},props.handleChangeCashType(data)})}},RCashType.prototype.render=function(){var state=(this.props,this.state),cashTypeBtnProps={className:"j-btn  j-btn-small  ",cancelClassName:"j-btn  j-btn-small j-btn-cancel",onClick:this.doRenewalCancel};return state.isLoading?(cashTypeBtnProps.className+=" j-btn-disabled ",cashTypeBtnProps.text="确认中"):(cashTypeBtnProps.className+=" j-btn-orange ",cashTypeBtnProps.text="确 定"),React.createElement("div",{className:"user-uplan-cash-type"},React.createElement(RForm,null,React.createElement("ul",null,React.createElement("li",{className:"mt10"},React.createElement("div",null,React.createElement("input",{type:"radio",name:"cashTypeStr",value:"INVEST",checked:"INVEST"===this.state.cashType,onChange:this.onCashTypeChanged}),React.createElement("span",{className:"ml10 cash-type-name"},"收益再投资")),React.createElement("p",{className:"user-uplan-cash-type-desc"},"本优选理财计划所产生收益（利息及罚息）将在还款当日随本优选理财计划继续投标并获取收益。")),React.createElement("li",{className:"mt10"},React.createElement("div",null,React.createElement("input",{type:"radio",name:"cashTypeStr",value:"RRD",checked:"RRD"===this.state.cashType,onChange:this.onCashTypeChanged}),React.createElement("span",{className:"ml10 cash-type-name"},"当日提取至人人贷账户")),React.createElement("p",{className:"user-uplan-cash-type-desc"},"本优选理财计划所产生收益（利息及罚息）依据所投各标的还款当日提取至人人贷账户，不收取任何费用。提至人人贷账户的收益将不再参与本优选理财计划再次投资。"))),React.createElement("div",{className:"ui-confirm-submit-box  mt20 text-center"},React.createElement("div",{className:cashTypeBtnProps.cancelClassName,onClick:this.props.changeCashType},"取消"),React.createElement("div",{className:cashTypeBtnProps.className,onClick:this.onSubmit},cashTypeBtnProps.text))))},RCashType}(React.Component);module.exports=RCashType});
;/*!/client/widget/user/detail/RCoupon/RCoupon.js*/
define("uplan:widget/user/detail/RCoupon/RCoupon.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RSelect=require("common:widget/react-ui/RSelect/RSelect"),RCoupon=(require("common:widget/ui/utils/utils"),function(_React$Component){function RCoupon(props){_classCallCheck(this,RCoupon),_React$Component.call(this,props)}return _inherits(RCoupon,_React$Component),RCoupon.prototype.render=function(){var props=this.props,cOptions=(this.state,props.cOptions),couponId=props.couponId,couponOptions={options:cOptions,className:"user-uplan-renewal-coupon-select",selectDefaultValue:couponId,noResultsText:"无可用加息券",selectChange:props.selectCouponChange};return React.createElement(RSelect,couponOptions)},RCoupon}(React.Component));module.exports=RCoupon});
;/*!/client/widget/user/detail/RPeriod/RPeriod.js*/
define("uplan:widget/user/detail/RPeriod/RPeriod.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RSelect=require("common:widget/react-ui/RSelect/RSelect"),RPeriod=(require("common:widget/ui/utils/utils"),function(_React$Component){function RPeriod(props){_classCallCheck(this,RPeriod),_React$Component.call(this,props)}return _inherits(RPeriod,_React$Component),RPeriod.prototype.render=function(){var props=this.props,pOptions=(this.state,props.pOptions),lockPeriod=props.lockPeriod,periodOptions={options:pOptions,className:"user-uplan-renewal-period-select",selectDefaultValue:lockPeriod,selectChange:props.selectPeriodChange};return React.createElement(RSelect,periodOptions)},RPeriod}(React.Component));module.exports=RPeriod});
;/*!/client/widget/user/detail/RUserUplanEarlyExitDialog/RUserUplanEarlyExitDialog.js*/
define("uplan:widget/user/detail/RUserUplanEarlyExitDialog/RUserUplanEarlyExitDialog.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RDialog=require("common:widget/react-ui/RWeDialog/RWeDialog"),RSendSmsButton=require("common:widget/react-ui/RSendSmsButton/RSendSmsButton"),RWETooltip=require("common:widget/react-ui/RWETooltip/RWETooltip"),RForm=require("common:widget/react-ui/RForm/RForm"),TextInput=RForm.TextInput,service=(RForm.ValidateProvider,require("common:widget/ui/service/service-factory")),uplanService=service.getService("uplan"),utils=require("common:widget/ui/utils/utils"),RUserUplanEarlyExitDialog=function(_React$Component){function RUserUplanEarlyExitDialog(props){_classCallCheck(this,RUserUplanEarlyExitDialog),_React$Component.call(this,props),this.doEarlyExit=this.doEarlyExit.bind(this),this.handleSmsResponse=this.handleSmsResponse.bind(this),this.state={isLoading:!1,errorMsg:"",isSendSms:-1}}return _inherits(RUserUplanEarlyExitDialog,_React$Component),RUserUplanEarlyExitDialog.prototype.handleSmsResponse=function(result){if(result&&0===result.status){{result.data}this.setState({isSendSms:1,errorMsg:""})}else{var message=result.message;this.setState({errorMsg:message||"发送手机验证码出错, 请稍后再试"})}},RUserUplanEarlyExitDialog.prototype.doEarlyExit=function(){var _this=this;if(!this.state.isLoading){{var props=this.props,detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,validCode=(this.refs.smsInput.getValue()||"").trim();this.state.isSendSms}if(!validCode)return void this.setState({errorMsg:"请输入手机验证码"});this.setState({isLoading:!0,errorMsg:""});var data={subPointId:financePlanVo.financeSubPointId,planId:financePlanVo.id,mobileValidCode:validCode};Promise.race([uplanService.doQuitAdvance(data),new Promise(function(resolve,reject){setTimeout(function(){reject({status:-99999,message:"网络异常，请求超时，请稍后再测试"})},1e4)})]).then(function(result){if(result.requestStatus!==uplanService.STATUS.SUCCESS)return Promise.reject();var _data=result.data;0==_data.status&&(_data.message="债权挂出中，待全部债权完成转让后即退出此期U计划"),_this.props.handleResult(_data)}).caught(function(data){data=data||{status:-2,message:"网络异常，请稍后再测试"},_this.props.handleResult(data)})}},RUserUplanEarlyExitDialog.prototype.render=function(){var props=this.props,state=this.state,detailInfo=props.detailInfo,interest=props.interest,financePlanVo=detailInfo.financePlanVo,financePlanType=financePlanVo.financePlanType,advanceQuitAmount=detailInfo.advanceQuitAmount,subPointId=(financePlanVo.id,financePlanVo.financeSubPointId),name=financePlanVo.name,finalAmount=financePlanVo.finalAmount,quitRate=financePlanVo.quitRate;quitRate=quitRate.replace(".00",".0");var advanceQuitAmountV=""!=quitRate?advanceQuitAmount:0;advanceQuitAmountV=advanceQuitAmountV?utils.commaFloat(advanceQuitAmountV):"0.00",finalAmount=finalAmount?utils.commaFloat(finalAmount):"0.00",isNaN(interest)||(interest=utils.commaFloat(interest),interest+="元");var uNameDom="U计划";"PREMIUM"==financePlanType&&(uNameDom="优选计划");var dialogProps={showing:!0,title:"确认提前退出",dialog:{className:"user-uplan-dialog user-uplan-early-exit-dialog",style:{width:700}},onRequestClose:props.onRequestClose},smsInputProps={placeholder:"发送验证码",name:"authCode",ref:"smsInput"},smsSendBtnProps={className:"sms-send-btn",method:"POST",url:"/pc/uplan/user/sendPhoneCode?platform=pc",data:{subPointId:subPointId},handleData:this.handleSmsResponse},quitBtnProps={className:"j-btn  j-btn-super-big ",onClick:this.doBuy};state.isLoading?(quitBtnProps.className+=" j-btn-disabled ",quitBtnProps.text="确认中"):(quitBtnProps.className+=" j-btn-orange ",quitBtnProps.text="确 定");var tooltipProps01={id:"user-uplan-tooltip-ee-01",place:"right",tip:"此为预估值，具体以实际收到金额为准"},tooltipProps02={id:"user-uplan-tooltip-ee-02",place:"right",tip:"加入金额*"+quitRate+"%"};return React.createElement(RDialog,dialogProps,React.createElement("div",{className:"user-uplan-body early-exit-body"},React.createElement(RForm,null,React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"退出期数"),React.createElement("span",{className:"value orange-highlight"},name)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"加入金额"),React.createElement("span",{className:"value "},finalAmount,"元")),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"预计回收金额"),React.createElement("span",{className:"value "},interest,React.createElement(RWETooltip,tooltipProps01))),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"提前退出费用"),React.createElement("span",{className:"value "},advanceQuitAmountV,"元",React.createElement(RWETooltip,tooltipProps02))),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"手机验证码"),React.createElement("div",{className:"value-width-2"},React.createElement("div",{className:"sms-input-con "},React.createElement(TextInput,smsInputProps)),React.createElement(RSendSmsButton,smsSendBtnProps))),React.createElement("div",{className:"error-msg"},state.errorMsg),React.createElement("div",{className:"ui-confirm-submit-box  mt10 text-center"},React.createElement("div",{className:quitBtnProps.className,onClick:this.doEarlyExit},quitBtnProps.text)),React.createElement("div",{className:"notice-con"},React.createElement("div",{className:"notice-title"},"温馨提示"),React.createElement("div",{className:"notice-desc "},"点击“退出”后，该期",uNameDom,"所持有的债权将进行债权转让，系统会每日定时将出售债权所获得的资金转入您的主账户内，全部债权转让完成具体时间，由债权转让市场的交易情况而定。")))))},RUserUplanEarlyExitDialog}(React.Component);module.exports=RUserUplanEarlyExitDialog});
;/*!/client/widget/user/detail/RUserUplanRenewalDialog/RUserUplanRenewalDialog.js*/
define("uplan:widget/user/detail/RUserUplanRenewalDialog/RUserUplanRenewalDialog.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},React=require("common:node_modules/react/react"),RDialog=require("common:widget/react-ui/RWeDialog/RWeDialog"),RForm=(require("common:widget/react-ui/RWETooltip/RWETooltip"),require("common:widget/react-ui/RForm/RForm")),RPeriod=require("uplan:widget/user/detail/RPeriod/RPeriod"),RCoupon=require("uplan:widget/user/detail/RCoupon/RCoupon"),service=(RForm.TextInput,require("common:widget/ui/service/service-factory")),utils=(service.getService("uplan"),require("common:widget/ui/utils/utils")),RUserUplanRenewalDialog=function(_React$Component){function RUserUplanRenewalDialog(props){_classCallCheck(this,RUserUplanRenewalDialog),_React$Component.call(this,props),this.doRenewal=this.doRenewal.bind(this),this.selectCouponChange=this.selectCouponChange.bind(this),this.selectPeriodChange=this.selectPeriodChange.bind(this),this.state={isLoading:!1,errorMsg:"",couponId:null,period:null,expectedRateUplan:null}}return _inherits(RUserUplanRenewalDialog,_React$Component),RUserUplanRenewalDialog.prototype.doRenewal=function(e){e.target.submit()},RUserUplanRenewalDialog.prototype.getPeriodOptions=function(selectFinancePlanTemplateList){var options=[];return selectFinancePlanTemplateList&&selectFinancePlanTemplateList.forEach(function(element){var lockPeriod=element.lockPeriod,obj=(element.expectedRateUplan,{value:lockPeriod,label:lockPeriod+"个月"});options.push(obj)}),options},RUserUplanRenewalDialog.prototype.getCouponOptions=function(renewalCouponMap,period){var options=[];if(renewalCouponMap){var coupons=renewalCouponMap[period];coupons.forEach(function(element){var couponId=element.couponId,incrInterestRate=element.incrInterestRate,labelV="无可用加息券"==incrInterestRate||"不使用续期加息券"==incrInterestRate?incrInterestRate:"续期加息券"+incrInterestRate+"%",obj={value:couponId,label:labelV};options.push(obj)})}return options},RUserUplanRenewalDialog.prototype.getExpectedRateUplanFromList=function(oldPeriod,oldExpectedRateUplan,selectFinancePlanTemplateList){var expectedRateUplan=oldExpectedRateUplan;return selectFinancePlanTemplateList&&selectFinancePlanTemplateList.forEach(function(element){var lockPeriod=element.lockPeriod;return oldPeriod==lockPeriod?void(expectedRateUplan=element.expectedRateUplan):void 0}),expectedRateUplan},RUserUplanRenewalDialog.prototype.getIncreaseRateUplanFromList=function(oldIncreaseRate,selCouponId,renewalCouponMap,period){var increaseRate=oldIncreaseRate;if(renewalCouponMap){var coupons=renewalCouponMap[period];coupons.forEach(function(element){var couponId=element.couponId,incrInterestRate=element.incrInterestRate;return selCouponId==couponId?(incrInterestRate="无可用加息券"==incrInterestRate||"不使用续期加息券"==incrInterestRate?0:incrInterestRate,void(increaseRate=incrInterestRate)):void 0})}return increaseRate},RUserUplanRenewalDialog.prototype.selectPeriodChange=function(val){this.setState({period:val,couponId:null})},RUserUplanRenewalDialog.prototype.selectCouponChange=function(val){this.setState({couponId:val})},RUserUplanRenewalDialog.prototype.render=function(){var props=this.props,state=this.state,rolloverResultData=props.rolloverResultData,subPointId=rolloverResultData.subPointId,planId=rolloverResultData.financePlanId,rollOverOrNot=1,financePlanName=rolloverResultData.financePlanName,financePlanTemplate=rolloverResultData.financePlanTemplate,lockPeriod=financePlanTemplate.lockPeriod,expectedRateUplan=financePlanTemplate.expectedRateUplan,rollOverAmount=rolloverResultData.rollOverAmount;rollOverAmount=rollOverAmount?utils.commaFloat(rollOverAmount):"0.00";var selectFinancePlanTemplateList=rolloverResultData.selectFinancePlanTemplateList,renewalCouponMap=rolloverResultData.renewalCouponMap,defaultCouponIncrInterestRate=rolloverResultData.defaultCouponIncrInterestRate,stateLockPeriod=this.state.period?this.state.period:lockPeriod,stateCouponId=this.state.couponId,pOptions=this.getPeriodOptions(selectFinancePlanTemplateList),cOptions=this.getCouponOptions(renewalCouponMap,stateLockPeriod);cOptions.length>0&&(stateCouponId=stateCouponId||0==stateCouponId?stateCouponId:cOptions[0].value),expectedRateUplan=this.getExpectedRateUplanFromList(stateLockPeriod,expectedRateUplan,selectFinancePlanTemplateList),defaultCouponIncrInterestRate=this.getIncreaseRateUplanFromList(defaultCouponIncrInterestRate,stateCouponId,renewalCouponMap,stateLockPeriod),expectedRateUplan=utils.commaFloat(expectedRateUplan);var interestRateDom=0!=defaultCouponIncrInterestRate?expectedRateUplan+"%+"+defaultCouponIncrInterestRate+"%":expectedRateUplan+"%",dialogProps={showing:!0,title:"确认续期",dialog:{className:"user-uplan-dialog user-uplan-renewal-dialog",style:{width:700}},onRequestClose:props.onRequestClose},renewalBtnProps={className:"j-btn  j-btn-super-big "};state.isLoading?(renewalBtnProps.className+=" j-btn-disabled ",renewalBtnProps.text="续期中"):(renewalBtnProps.className+=" j-btn-orange ",renewalBtnProps.text="续期");var formProps={action:"/pc/uplan/user/rollOver",method:"POST",id:"uer-uplan-renewal-form"};return React.createElement(RDialog,dialogProps,React.createElement("div",{className:"user-uplan-body renewal-body"},React.createElement(RForm,_extends({},formProps,{onSubmit:this.doRenewal}),React.createElement("input",{name:"subPointId",type:"hidden",value:subPointId,readOnly:!0}),React.createElement("input",{name:"planId",type:"hidden",value:planId}),React.createElement("input",{name:"rollOverOrNot",type:"hidden",value:rollOverOrNot,readOnly:!0}),React.createElement("input",{name:"period",type:"hidden",value:stateLockPeriod,readOnly:!0}),React.createElement("input",{name:"couponId",type:"hidden",value:stateCouponId,readOnly:!0}),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"原期数"),React.createElement("span",{className:"value orange-highlight"},financePlanName)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"续期期限"),React.createElement("div",{className:"value-width-3"},React.createElement(RPeriod,{pOptions:pOptions,selectPeriodChange:this.selectPeriodChange,lockPeriod:stateLockPeriod}))),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"续期利率"),React.createElement("span",{className:"value "},interestRateDom)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"续期金额"),React.createElement("span",{className:"value "},rollOverAmount,"元")),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"收益方式"),React.createElement("span",{className:"value "},"收益再投资")),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"续期加息券"),React.createElement("div",{className:"value-width-3"},React.createElement(RCoupon,{cOptions:cOptions,selectCouponChange:this.selectCouponChange,couponId:stateCouponId}))),React.createElement("div",{className:"ui-confirm-submit-box  mt30 text-center"},React.createElement("input",{className:renewalBtnProps.className,type:"submit",value:renewalBtnProps.text})),React.createElement("div",{className:"notice-con"},React.createElement("div",{className:"notice-title"},"温馨提示"),React.createElement("ul",{className:"notice-desc "},React.createElement("li",null,"1. 选择续期后可于当期U计划到期前7个自然日取消续期;"),React.createElement("li",null,"2. 续期利率和金额均为预估值，实际以到期续期利率和转出金额为准。"),React.createElement("li",null,"注：",React.createElement("a",{href:"https://www.renrendai.com/pc/about/rrdHelp/topic/p/investment/fn/58732de5b436c50e334983c1",target:"_blank"},"查看更多续期说明>>")))))))},RUserUplanRenewalDialog}(React.Component);module.exports=RUserUplanRenewalDialog});
;/*!/client/widget/user/detail/RUserUplanRenewalCancelDialog/RUserUplanRenewalCancelDialog.js*/
define("uplan:widget/user/detail/RUserUplanRenewalCancelDialog/RUserUplanRenewalCancelDialog.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RDialog=require("common:widget/react-ui/RWeDialog/RWeDialog"),RForm=require("common:widget/react-ui/RForm/RForm"),service=(require("common:widget/react-ui/RWETooltip/RWETooltip"),RForm.TextInput,require("common:widget/ui/service/service-factory")),uplanService=service.getService("uplan"),utils=require("common:widget/ui/utils/utils"),RUserUplanRenewalCancelDialog=function(_React$Component){function RUserUplanRenewalCancelDialog(props){_classCallCheck(this,RUserUplanRenewalCancelDialog),_React$Component.call(this,props),this.doRenewalCancel=this.doRenewalCancel.bind(this),this.state={isLoading:!1,errorMsg:"",isSendSms:-1}}return _inherits(RUserUplanRenewalCancelDialog,_React$Component),RUserUplanRenewalCancelDialog.prototype.doRenewalCancel=function(){var _this=this;if(!this.state.isLoading){var props=this.props,rolloverResultData=props.rolloverResultData,subPointId=rolloverResultData.subPointId,planId=rolloverResultData.financePlanId,financePlanTemplate=rolloverResultData.financePlanTemplate,lockPeriod=financePlanTemplate.lockPeriod;this.setState({isLoading:!0,errorMsg:""});var data={subPointId:subPointId,planId:planId,rollOverOrNot:0,period:lockPeriod};Promise.race([uplanService.rollOverCancel(data),new Promise(function(resolve,reject){setTimeout(function(){reject({status:-99999,message:"网络异常，请求超时，请稍后再测试"})},1e4)})]).then(function(result){if(result.requestStatus!==uplanService.STATUS.SUCCESS)return Promise.reject();var _data=result.data;0==_data.status&&(_data.message="取消续期成功"),_this.props.handleResult(_data)}).caught(function(data){data=data||{status:-2,message:"网络异常，请稍后再测试"},_this.props.handleResult(data)})}},RUserUplanRenewalCancelDialog.prototype.render=function(){var props=this.props,state=this.state,detailInfo=props.detailInfo,currentDiscountRate=detailInfo.currentDiscountRate;currentDiscountRate=utils.fixFloat1(currentDiscountRate);var dialogProps={showing:!0,title:"确认取消续期",dialog:{className:"user-uplan-dialog user-uplan-renewal-cancel-dialog",style:{width:700}},onRequestClose:props.onRequestClose},renewalCnancelBtnProps={className:"j-btn  j-btn-super-big ",onClick:this.doRenewalCancel};state.isLoading?(renewalCnancelBtnProps.className+=" j-btn-disabled ",renewalCnancelBtnProps.text="确认中"):(renewalCnancelBtnProps.className+=" j-btn-orange ",renewalCnancelBtnProps.text="确 定");var currentDiscountRateDom=null;return currentDiscountRateDom="0.0"==currentDiscountRate?React.createElement("ul",{className:"ul-content"},React.createElement("li",null,"是否确认取消续期？")):React.createElement("ul",{className:"ul-content"},React.createElement("li",null,"您当前的U计划续期享受",currentDiscountRate,"%加息，若选择取消续期"),React.createElement("li",null,"则不再享受此加息，是否取消续期？")),React.createElement(RDialog,dialogProps,React.createElement("div",{className:"user-uplan-body renewal-cancel-body"},currentDiscountRateDom,React.createElement("div",{className:"ui-confirm-submit-box  mt30 text-center"},React.createElement("div",{className:renewalCnancelBtnProps.className,onClick:this.doRenewalCancel},renewalCnancelBtnProps.text))))},RUserUplanRenewalCancelDialog}(React.Component);module.exports=RUserUplanRenewalCancelDialog});
;/*!/client/widget/user/detail/RUserUplanQuitDialog/RUserUplanQuitDialog.js*/
define("uplan:widget/user/detail/RUserUplanQuitDialog/RUserUplanQuitDialog.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RDialog=require("common:widget/react-ui/RWeDialog/RWeDialog"),RForm=require("common:widget/react-ui/RForm/RForm"),RWETooltip=require("common:widget/react-ui/RWETooltip/RWETooltip"),RSendSmsButton=require("common:widget/react-ui/RSendSmsButton/RSendSmsButton"),TextInput=RForm.TextInput,service=require("common:widget/ui/service/service-factory"),uplanService=service.getService("uplan"),utils=require("common:widget/ui/utils/utils"),RUserUplanQuitDialog=function(_React$Component){function RUserUplanQuitDialog(props){_classCallCheck(this,RUserUplanQuitDialog),_React$Component.call(this,props),this.doQuit=this.doQuit.bind(this),this.handleSmsResponse=this.handleSmsResponse.bind(this),this.state={isLoading:!1,errorMsg:"",isSendSms:-1}}return _inherits(RUserUplanQuitDialog,_React$Component),RUserUplanQuitDialog.prototype.handleSmsResponse=function(result){if(result&&0===result.status){{result.data}this.setState({isSendSms:1,errorMsg:""})}else{var message=result.message;this.setState({errorMsg:message||"发送手机验证码出错, 请稍后再试"})}},RUserUplanQuitDialog.prototype.doQuit=function(){var _this=this,props=this.props,state=this.state;if(!state.isLoading){{var detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,validCode=(this.refs.smsInput.getValue()||"").trim();state.isSendSms}if(!validCode)return void this.setState({errorMsg:"请输入手机验证码"});this.setState({isLoading:!0,errorMsg:""});var data={subPointId:financePlanVo.financeSubPointId,planId:financePlanVo.id,quitType:"RRD",mobileValidCode:validCode};Promise.race([uplanService.doPlanQuit(data),new Promise(function(resolve,reject){setTimeout(function(){reject({status:-99999,message:"网络异常，请求超时，请稍后再测试"})},1e4)})]).then(function(result){if(result.requestStatus!==uplanService.STATUS.SUCCESS)return Promise.reject();var _data=result.data;0==_data.status&&(_data.message="系统正在为您挂出债权，请您耐心等待"),_this.props.handleResult(_data)}).caught(function(data){data=data||{status:-2,message:"网络异常，请稍后再测试"},_this.props.handleResult(data)})}},RUserUplanQuitDialog.prototype.getBtnProps=function(){var state=(this.props,this.state),renewalBtnProps={className:"j-btn  j-btn-super-big ",cancelClassName:"j-btn  j-btn-small j-btn-cancel",onClick:this.doRenewal};return state.isLoading?(renewalBtnProps.className+=" j-btn-disabled ",renewalBtnProps.text="确认退出中"):(renewalBtnProps.className+=" j-btn-orange ",renewalBtnProps.text="退出"),renewalBtnProps},RUserUplanQuitDialog.prototype.quitDialog=function(){var props=this.props,detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,finalAmount=financePlanVo.finalAmount,financePlanType=financePlanVo.financePlanType,category=financePlanVo.category,name=financePlanVo.name;finalAmount=finalAmount?utils.commaFloat(finalAmount):"0.00";var dialogProps={showing:!0,title:"确认退出计划",dialog:{className:"user-uplan-dialog user-uplan-quit-dialog",style:{width:700}},onRequestClose:props.onRequestClose},btnProps=this.getBtnProps(),uNameDom="U计划",contractHrefDom=null;return"PREMIUM"==financePlanType?uNameDom="优选计划":"OLD"!=category||(uNameDom="优选计划",contractHrefDom=React.createElement("span",null,"详细规则请查看",React.createElement("a",{href:"/static/misc/financial-plan-intro.pdf",target:"_blank"},"《优选理财计划说明书》"))),React.createElement(RDialog,dialogProps,React.createElement("div",{className:"user-uplan-body quit-body"},React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"退出期数"),React.createElement("span",{className:"value orange-highlight"},name)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"加入金额"),React.createElement("span",{className:"value "},finalAmount,"元")),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"退出方式"),React.createElement("span",{className:"value "},"提取至账户")),React.createElement("div",{className:"ui-confirm-submit-box  mt30 text-center"},React.createElement("div",{className:btnProps.className,onClick:this.props.onRequestClose4OldUplan},btnProps.text)),React.createElement("div",{className:"notice-con"},React.createElement("div",{className:"notice-title"},"温馨提示"),React.createElement("div",{className:"notice-desc "},"点击“退出”后，该期",uNameDom,"所持有的债权将进行债权转让，全部债权转让完成具体时间，由债权转让市场的交易情况而定。",contractHrefDom))))},RUserUplanQuitDialog.prototype.quitOKDialog=function(){var props=this.props,state=this.state,detailInfo=props.detailInfo,quitData=props.quitData,financePlanVo=detailInfo.financePlanVo,finalAmount=financePlanVo.finalAmount;finalAmount=finalAmount?utils.commaFloat(finalAmount):"0.00";var subPointId=financePlanVo.financeSubPointId,name=financePlanVo.name,expectedExitAmount="系统正在努力为您计算预计回收金额，请您耐心等待",expectedTotalIncome="系统正在努力为您计算预计总收入，请您耐心等待";quitData&&quitData.data&&(expectedExitAmount=quitData.data.expectedExitAmount,expectedExitAmount=expectedExitAmount?utils.commaFloat(expectedExitAmount):"0.00",expectedTotalIncome=quitData.data.expectedTotalIncome,expectedTotalIncome=expectedTotalIncome?utils.commaFloat(expectedTotalIncome):"0.00");var smsInputProps={placeholder:"发送验证码",name:"authCode",ref:"smsInput"},smsSendBtnProps={className:"sms-send-btn",method:"POST",url:"/pc/uplan/user/sendPhoneCode?platform=pc",data:{subPointId:subPointId},handleData:this.handleSmsResponse},dialogProps={showing:!0,title:"确认退出计划",dialog:{className:"user-uplan-dialog user-uplan-quit-dialog",style:{width:700}},onRequestClose:props.onRequestClose},btnProps=this.getBtnProps(),tooltipProps_quit_01={id:"user-uplan-tooltip-quit_01",place:"right",tip:"此为预估值，具体以实际收到金额为准",delayHide:100},tooltipProps_quit_02={id:"user-uplan-tooltip-quit_02",place:"right",tip:"预计总收入 = 预计回收金额 + 退出前已提取金额",delayHide:100};return React.createElement(RDialog,dialogProps,React.createElement(RForm,null,React.createElement("div",{className:"user-uplan-body quit-body"},React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"退出期数"),React.createElement("span",{className:"value orange-highlight"},name)),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"加入金额"),React.createElement("span",{className:"value "},finalAmount,"元")),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"预计回收金额"),React.createElement("span",{className:"value "},expectedExitAmount,"元",React.createElement(RWETooltip,tooltipProps_quit_01))),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"预计总收入"),React.createElement("span",{className:"value "},expectedTotalIncome,"元",React.createElement(RWETooltip,tooltipProps_quit_02))),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"退出方式"),React.createElement("span",{className:"value "},"提取至账户")),React.createElement("div",{className:"info-item fn-clear"},React.createElement("span",{className:"label"},"手机验证码"),React.createElement("div",{className:"value-width-2"},React.createElement("div",{className:"sms-input-con "},React.createElement(TextInput,smsInputProps)),React.createElement(RSendSmsButton,smsSendBtnProps))),React.createElement("div",{className:"error-msg"},state.errorMsg),React.createElement("div",{className:"ui-confirm-submit-box  mt10 text-center pb40"},React.createElement("div",{className:btnProps.className,onClick:this.doQuit},btnProps.text)))))},RUserUplanQuitDialog.prototype.render=function(){var isQuitOkDialog=this.props.isQuitOkDialog,dom=null;return dom=0==isQuitOkDialog?this.quitDialog():this.quitOKDialog(),React.createElement("div",null,dom)},RUserUplanQuitDialog}(React.Component);module.exports=RUserUplanQuitDialog});
;/*!/client/widget/user/detail/RUserUplanDetailProductStatus/RUserUplanDetailProductStatus.js*/
define("uplan:widget/user/detail/RUserUplanDetailProductStatus/RUserUplanDetailProductStatus.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RWeStatusDialog=(require("common:widget/react-ui/RForm/RForm"),require("common:widget/react-ui/RWeStatusDialog/RWeStatusDialog")),RUserUplanEarlyExitDialog=require("uplan:widget/user/detail/RUserUplanEarlyExitDialog/RUserUplanEarlyExitDialog"),RUserUplanRenewalDialog=require("uplan:widget/user/detail/RUserUplanRenewalDialog/RUserUplanRenewalDialog"),RUserUplanRenewalCancelDialog=require("uplan:widget/user/detail/RUserUplanRenewalCancelDialog/RUserUplanRenewalCancelDialog"),RUserUplanQuitDialog=require("uplan:widget/user/detail/RUserUplanQuitDialog/RUserUplanQuitDialog"),service=require("common:widget/ui/service/service-factory"),uplanService=service.getService("uplan"),UserUplanDetailProduct=function(_React$Component){function UserUplanDetailProduct(props){_classCallCheck(this,UserUplanDetailProduct),_React$Component.call(this,props),this.showEarlyExitDialog=this.showEarlyExitDialog.bind(this),this.showRenewalDialog=this.showRenewalDialog.bind(this),this.showRenewalCancelDialog=this.showRenewalCancelDialog.bind(this),this.showQuitDialog=this.showQuitDialog.bind(this),this.closeDialog=this.closeDialog.bind(this),this.closeCommonDialog=this.closeCommonDialog.bind(this),this.handleResult=this.handleResult.bind(this),this.onRequestClose4OldUplan=this.onRequestClose4OldUplan.bind(this),this.state={errorMessage:"",showDialog:!1,showCommonDialog:!1,commonStatus:-1,commonMessage:"",isLoading:!1,interest:"获取中...",dialogType:0,renewalData:null,pageRenewalBtn:"续期",pageRenewalCancelBtn:"取消续期",pageRenewalClassName:"user-plan-button-orange",quitData:null,isQuitOkDialog:0}}return _inherits(UserUplanDetailProduct,_React$Component),UserUplanDetailProduct.prototype.premiumStatus=function(){var props=this.props,detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,isPurcharge=detailInfo.isPurcharge,canQuit=detailInfo.canQuit,id=financePlanVo.id,planStatus=financePlanVo.planStatus,novice=financePlanVo.novice,hasFull=financePlanVo.hasFull,hrefDom="/pc/uplan/"+id+".html",btnDom1=null,btnDom2=null;"INPROGRESS"==planStatus&&(isPurcharge&&1!=novice&&"false"==hasFull&&(btnDom1=React.createElement("a",{className:"user-plan-button user-plan-button-orange cursor-pointer",target:"_blank",href:hrefDom},"追加金额")),canQuit&&(btnDom2=React.createElement("a",{className:"user-plan-button user-plan-button-orange cursor-pointer",href:"javascript:void(0)",onClick:this.showEarlyExitDialog},"提前退出")));var conttent=React.createElement("div",{id:"status-button"},btnDom1,btnDom2);return conttent},UserUplanDetailProduct.prototype.uplanStatus=function(){var props=this.props,state=this.state,detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,id=financePlanVo.id,planStatus=financePlanVo.planStatus,isPurcharge=detailInfo.isPurcharge,novice=financePlanVo.novice,hasFull=financePlanVo.hasFull,canQuit=detailInfo.canQuit,canRollOver=detailInfo.canRollOver,locking=detailInfo.locking,hrefDom="/pc/uplan/"+id+".html",btnDom1=null,btnDom2=null,pageRenewalClassName="user-plan-button "+state.pageRenewalClassName+' cursor-pointer" ';"INPROGRESS"==planStatus&&(1==canRollOver?btnDom1=0==locking?React.createElement("a",{className:pageRenewalClassName,href:"javascript:",onClick:this.showRenewalDialog},state.pageRenewalBtn):React.createElement("a",{className:"user-plan-button user-plan-button-gray",href:"javascript:"},"续 期"):2==canRollOver?btnDom1=0==locking?React.createElement("a",{className:pageRenewalClassName,href:"javascript:",onClick:this.showRenewalCancelDialog},state.pageRenewalCancelBtn):React.createElement("a",{className:"user-plan-button user-plan-button-gray",href:"javascript:"},"取消续期"):3==canRollOver&&(btnDom1=React.createElement("a",{className:"user-plan-button user-plan-button-gray",href:"javascript:"},"取消续期")),isPurcharge&&1!=novice?"false"==hasFull&&(btnDom2=React.createElement("a",{className:" user-plan-button user-plan-button-orange cursor-pointer",target:"_blank",href:hrefDom}," 追加金额")):canQuit&&(btnDom2=1==canRollOver?React.createElement("a",{className:"user-plan-button user-plan-button-orange",href:"javascript:",onClick:this.showEarlyExitDialog},"提前退出"):React.createElement("a",{className:"user-plan-button user-plan-button-gray",href:"javascript:"},"提前退出")));var conttent=React.createElement("div",{id:"status-button"},btnDom1,btnDom2);return conttent},UserUplanDetailProduct.prototype.oldUplanStatus=function(){var props=this.props,detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,isPurcharge=detailInfo.isPurcharge,id=financePlanVo.id,planStatus=financePlanVo.planStatus,status=financePlanVo.status,hasFull=financePlanVo.hasFull,hrefDom="/pc/uplan/"+id+".html",btnDom1=null,btnDom2=null;"INPROGRESS"==planStatus&&(isPurcharge?"false"==hasFull&&(btnDom1=React.createElement("a",{className:"user-plan-button user-plan-button-orange cursor-pointer",target:"_blank",href:hrefDom},"追加金额")):"REDEMPTION_PERIOD"==status&&(btnDom1=React.createElement("a",{className:"user-plan-button user-plan-button-orange cursor-pointer",href:"javascript:",onClick:this.showQuitDialog},"退出")));var conttent=React.createElement("div",{id:"status-button"},btnDom1,btnDom2);return conttent},UserUplanDetailProduct.prototype.getImgStamp=function(){var props=this.props,detailInfo=(this.state,props.detailInfo),financePlanVo=detailInfo.financePlanVo,isPurcharge=detailInfo.isPurcharge,planStatus=financePlanVo.planStatus,status=financePlanVo.status,category=financePlanVo.category,imgHref=null;return"INPROGRESS"==planStatus?isPurcharge||("PURCHASE_END"==status?imgHref="//www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/INCOME.png":"REDEMPTION_PERIOD"==status&&"OLD"==category?imgHref="//www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/OPEN.png":"REDEMPTION_PERIOD"==status&&"OLD"!=category&&(imgHref="//www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/INCOME.png")):"EXITING"==planStatus?imgHref="//www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/QUITING.png":"EXITED"==planStatus&&(imgHref="//www.we.com/cms/5864b0d6a24d131067ef7956/uplan/stamp/QUIT.png"),imgHref},UserUplanDetailProduct.prototype.showEarlyExitDialog=function(){var _this=this;this.setState({showDialog:!0,dialogType:0});var detailInfo=this.props.detailInfo,financePlanVo=detailInfo.financePlanVo,subPointId=financePlanVo.financeSubPointId;uplanService.getQuitAdvanceInfo({subPointId:subPointId}).then(function(result){_this.setState({isLoading:!1});var requestStatus=result.requestStatus,data=result.data||{},status=data.status;if(requestStatus!==uplanService.STATUS.SUCCESS||0!==status){_this.setState({isLoading:!1});var msg=data.message||"请求后端服务出错, 请稍后再试";return Promise.reject(msg)}_this.setState({isLoading:!1,interest:data.data.interest})}).caught(function(){_this.setState({isLoading:!1})})},UserUplanDetailProduct.prototype.showRenewalDialog=function(){this.state.isLoading||this.renewalAjax(1)},UserUplanDetailProduct.prototype.showRenewalCancelDialog=function(){this.state.isLoading||this.renewalAjax(2)},UserUplanDetailProduct.prototype.showQuitDialog=function(){this.setState({showDialog:!0,dialogType:3})},UserUplanDetailProduct.prototype.renewalAjax=function(dialogType){var _this2=this;this.setState({isLoading:!0,pageRenewalBtn:"请求中",pageRenewalClassName:"user-plan-button-gray"});var detailInfo=this.props.detailInfo,financePlanVo=detailInfo.financePlanVo,subPointId=financePlanVo.financeSubPointId,btnText="";btnText=1==dialogType?"续期":"取消续期",uplanService.getRollOverInfo({subPointId:subPointId}).then(function(result){var requestStatus=result.requestStatus,data=result.data||{},status=data.status;if(requestStatus===uplanService.STATUS.SUCCESS&&0===status)_this2.setState({isLoading:!1,renewalData:data.data,showDialog:!0,dialogType:dialogType,pageRenewalBtn:btnText,pageRenewalClassName:"user-plan-button-orange"});else{var message=data.message||"请求后端服务出错, 请稍后再试";_this2.setState({isLoading:!1,showDialog:!1,showCommonDialog:!0,commonStatus:status,commonMessage:message,pageRenewalBtn:btnText,pageRenewalClassName:"user-plan-button-orange"})}}).caught(function(){_this2.setState({isLoading:!1,showDialog:!1,showCommonDialog:!0,commonStatus:-99999,commonMessage:"请求后端服务出错, 请稍后再试",pageRenewalBtn:btnText,pageRenewalClassName:"user-plan-button-orange"})})},UserUplanDetailProduct.prototype.closeDialog=function(){this.setState({showDialog:!1,isQuitOkDialog:0})},UserUplanDetailProduct.prototype.onRequestClose4OldUplan=function(){var _this3=this;this.setState({isQuitOkDialog:1});var detailInfo=this.props.detailInfo,financePlanVo=detailInfo.financePlanVo,subPointId=financePlanVo.financeSubPointId;uplanService.getPlanQuitInfo({subPointId:subPointId}).then(function(result){_this3.setState({isLoading:!1});var requestStatus=result.requestStatus,data=result.data||{},status=data.status;if(requestStatus!==uplanService.STATUS.SUCCESS||0!==status){_this3.setState({isLoading:!1,quitData:data});var msg=data.message||"请求后端服务出错, 请稍后再试";return Promise.reject(msg)}_this3.setState({isLoading:!1,quitData:data})}).caught(function(){_this3.setState({isLoading:!1,quitData:{status:-1,message:"网络异常，请稍后再试"}})})},UserUplanDetailProduct.prototype.handleResult=function(data){var status=data.status,message=data.message;this.setState({showDialog:!1,showCommonDialog:!0,commonStatus:status,commonMessage:message})},UserUplanDetailProduct.prototype.renderDialog=function(){var content=null,props=this.props,state=this.state;if(!state.showDialog)return content;var dialogType=state.dialogType,detailInfo=props.detailInfo,dialogProps=(props.rolloverResultData,$.extend({},props,{detailInfo:detailInfo,rolloverResultData:state.renewalData,onRequestClose:this.closeDialog,onRequestClose4OldUplan:this.onRequestClose4OldUplan,handleResult:this.handleResult,interest:state.interest,quitData:state.quitData,isQuitOkDialog:state.isQuitOkDialog}));switch(dialogType){case 0:content=React.createElement(RUserUplanEarlyExitDialog,dialogProps);break;case 1:content=React.createElement(RUserUplanRenewalDialog,dialogProps);break;case 2:content=React.createElement(RUserUplanRenewalCancelDialog,dialogProps);break;case 3:content=React.createElement(RUserUplanQuitDialog,dialogProps)}return content},UserUplanDetailProduct.prototype.closeCommonDialog=function(){this.setState({showCommonDialog:!1,isQuitOkDialog:0});var status=this.state.commonStatus;0==status&&window.location.reload()},UserUplanDetailProduct.prototype.renderCommonDialog=function(){var props=this.props,message=this.state.commonMessage,status=this.state.commonStatus,dialogProps=$.extend({},props,{onRequestClose:this.closeCommonDialog,status:status,message:message}),content=React.createElement(RWeStatusDialog,dialogProps);return content},UserUplanDetailProduct.prototype.render=function(){var props=this.props,detailInfo=(this.state,props.detailInfo),financePlanVo=detailInfo.financePlanVo,category=financePlanVo.category,financePlanType=financePlanVo.financePlanType,showCommonDialog=this.state.showCommonDialog,btnDom=null;btnDom="PREMIUM"==financePlanType?this.premiumStatus():"OLD"!=category?this.uplanStatus():this.oldUplanStatus();var imageStamp=this.getImgStamp(),imageStampDom=imageStamp?React.createElement("div",{className:"stamp-new"},React.createElement("image",{src:imageStamp})):null,dialog=this.renderDialog(),commomDialogDom=this.renderCommonDialog(),commomDialog=showCommonDialog?commomDialogDom:null;return React.createElement("div",{className:"product-info-status fn-left"},btnDom,imageStampDom,dialog,commomDialog)},UserUplanDetailProduct}(React.Component);module.exports=UserUplanDetailProduct});
;/*!/client/widget/user/detail/RUserUplanDetailProduct/RUserUplanDetailProduct.js*/
define("uplan:widget/user/detail/RUserUplanDetailProduct/RUserUplanDetailProduct.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RUserUplanDetailProductStatus=require("uplan:widget/user/detail/RUserUplanDetailProductStatus/RUserUplanDetailProductStatus"),RWETooltip=require("common:widget/react-ui/RWETooltip/RWETooltip"),RCashType=require("uplan:widget/user/detail/RCashType/RCashType"),utils=require("common:widget/ui/utils/utils"),UserUplanDetailProduct=function(_React$Component){function UserUplanDetailProduct(props){_classCallCheck(this,UserUplanDetailProduct),_React$Component.call(this,props),this.changeCashType=this.changeCashType.bind(this),this.handleChangeCashType=this.handleChangeCashType.bind(this),this.state={isShowOldUplanCashType:!1}}return _inherits(UserUplanDetailProduct,_React$Component),UserUplanDetailProduct.prototype.changeCashType=function(){this.setState({isShowOldUplanCashType:!this.state.isShowOldUplanCashType})},UserUplanDetailProduct.prototype.handleChangeCashType=function(data){this.setState({isShowOldUplanCashType:!1}),this.refs.userUplanDetailStatus.handleResult(data)},UserUplanDetailProduct.prototype.getCashTypeCN=function(cashType){var cashTypeCN="";return"INVEST"==cashType?cashTypeCN="收益再投资":"RRD"==cashType&&(cashTypeCN="提取至账户"),cashTypeCN},UserUplanDetailProduct.prototype.getQuitTypeCN=function(quitType){var quitTypeCN="";return"RRD"==quitType?quitTypeCN="提取至账户":"BANK"==quitType&&(quitTypeCN="每隔7天提至银行卡"),quitTypeCN},UserUplanDetailProduct.prototype.getToolTip=function(){var props=this.props,detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,tooltipDom='<div>\n                            <div className="line-01">收益再投资：'+financePlanVo.interestReinvestedAmount+'元</div>\n                            <div className="line-02">已提取金额：'+financePlanVo.totalCashDrawInterest+"元</div>\n                         </div>";return tooltipDom},UserUplanDetailProduct.prototype.premiumInfoDom=function(){{var props=this.props,detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,planStatus=financePlanVo.planStatus,lockPeriod=financePlanVo.lockPeriod,quitRate=financePlanVo.quitRate,finalAmount=financePlanVo.finalAmount,expectedYearRate=financePlanVo.expectedYearRate,earnAmount=financePlanVo.earnAmount;financePlanVo.bankId}finalAmount=finalAmount?utils.commaInteger(finalAmount):0;var latestRegTime=financePlanVo.latestRegTime,endLockingTime=financePlanVo.endLockingTime,exitWay=(financePlanVo.leftLockDay,financePlanVo.exitWay),cashType=(financePlanVo.cashDrawDay,financePlanVo.cashType),quitType=(this.getCashTypeCN(cashType),financePlanVo.quitType),quitTypeCN=this.getQuitTypeCN(quitType),detailBasicDom=null;return detailBasicDom="INPROGRESS"==planStatus?React.createElement("div",{className:"product-info-extra"},React.createElement("ul",{className:"fn-clear"},React.createElement("li",{className:"fn-left"},"交易时间",React.createElement("span",{className:"extra-value"},latestRegTime)),React.createElement("li",{className:"fn-left"},"转入自由期日",React.createElement("span",{className:"extra-value"},endLockingTime))),React.createElement("ul",{className:"fn-clear"},React.createElement("li",{className:"fn-left width100"}," *",lockPeriod,"个月内提前退出费用为加入本金的",quitRate,"%，自由期内退出免费"))):React.createElement("div",{className:"product-info-extra"},React.createElement("ul",{className:"fn-clear"},React.createElement("li",{className:"fn-left"},"交易时间",React.createElement("span",{className:"extra-value"},latestRegTime)),React.createElement("li",{className:"fn-left"},"退出时间",React.createElement("span",{className:"extra-value"},endLockingTime))),React.createElement("ul",{className:"fn-clear"},React.createElement("li",{className:"fn-left"},"退出途径",React.createElement("span",{className:"extra-value"},exitWay)),React.createElement("li",{className:"fn-left"},"退出方式",React.createElement("span",{className:"extra-value"},quitTypeCN)))),React.createElement("div",null,React.createElement("div",{className:"product-info-number fn-clear"},React.createElement("ul",{className:"has-income fn-left"},React.createElement("li",{className:"value"},earnAmount,React.createElement("i",null,"元")),React.createElement("li",{className:"name"},"已赚金额")),React.createElement("ul",{className:"has-invest fn-left"},React.createElement("li",{className:"value"},finalAmount,React.createElement("i",null,"元")),React.createElement("li",{className:"name"},"投资金额")),React.createElement("ul",{className:"year-rate fn-left"},React.createElement("li",{className:"value"},expectedYearRate,React.createElement("i",null,"%")),React.createElement("li",{className:"name"},"预期年化利率"))),detailBasicDom)},UserUplanDetailProduct.prototype.uplanInfoDom=function(){var props=this.props,detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,planStatus=financePlanVo.planStatus,finalAmount=financePlanVo.finalAmount,expectedYearRate=financePlanVo.expectedYearRate,earnAmount=financePlanVo.earnAmount,bankId=financePlanVo.bankId;finalAmount=finalAmount?utils.commaInteger(finalAmount):0;var latestRegTime=financePlanVo.latestRegTime,endLockingTime=financePlanVo.endLockingTime,leftLockDay=financePlanVo.leftLockDay,exitWay=financePlanVo.exitWay,cashDrawDay=financePlanVo.cashDrawDay,cashType=financePlanVo.cashType,cashTypeCN=this.getCashTypeCN(cashType),quitType=financePlanVo.quitType,quitTypeCN=this.getQuitTypeCN(quitType),dom1="INPROGRESS"==planStatus?React.createElement("li",{className:"fn-left"},"剩余天数",React.createElement("span",{className:"extra-value"},leftLockDay,"天")):React.createElement("li",{className:"fn-left"},"退出途径",React.createElement("span",{className:"extra-value"},exitWay)),subDom2=null!=bankId?React.createElement("span",{className:"extra-value"},cashTypeCN," 每月",cashDrawDay,"日提取至银行卡"):React.createElement("span",{className:"extra-value"},cashTypeCN),dom2="INPROGRESS"==planStatus?React.createElement("li",{className:"fn-left"},"处理方式",subDom2):React.createElement("li",{className:"fn-left"},"退出方式",React.createElement("span",{className:"extra-value"},quitTypeCN)),tooltipDom=this.getToolTip(),tooltipProps={id:"user-uplan-tooltip-02",place:"right",tip:tooltipDom,delayHide:100};return React.createElement("div",null,React.createElement("div",{className:"product-info-number fn-clear"},React.createElement("ul",{className:"has-income fn-left"},React.createElement("li",{className:"value"},earnAmount,React.createElement("i",null,"元")),React.createElement("li",{className:"name"},"已赚金额",React.createElement(RWETooltip,tooltipProps))),React.createElement("ul",{className:"has-invest fn-left"},React.createElement("li",{className:"value"},finalAmount,React.createElement("i",null,"元")),React.createElement("li",{className:"name"},"投资金额")),React.createElement("ul",{className:"year-rate fn-left"},React.createElement("li",{className:"value"},expectedYearRate,React.createElement("i",null,"%")),React.createElement("li",{className:"name"},"预期年化利率"))),React.createElement("div",{className:"product-info-extra"},React.createElement("ul",{className:"fn-clear"},React.createElement("li",{className:"fn-left"},"交易时间",React.createElement("span",{className:"extra-value"},latestRegTime)),React.createElement("li",{className:"fn-left"},"退出时间",React.createElement("span",{className:"extra-value"},endLockingTime))),React.createElement("ul",{className:"fn-clear"},dom1,"  ",dom2)))},UserUplanDetailProduct.prototype.oldUplanInfoDom=function(){var props=this.props,detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,finalAmount=financePlanVo.finalAmount,aveLoanRate=financePlanVo.aveLoanRate,earnAmount=financePlanVo.earnAmount,planStatus=financePlanVo.planStatus,bankId=financePlanVo.bankId;finalAmount=finalAmount?utils.commaInteger(finalAmount):0;var latestRegTime=financePlanVo.latestRegTime,endLockingTime=financePlanVo.endLockingTime,leftLockDay=financePlanVo.leftLockDay,cashDrawDay=(financePlanVo.exitWay,financePlanVo.cashDrawDay),cashType=financePlanVo.cashType,cashTypeCN=this.getCashTypeCN(cashType),quitType=financePlanVo.quitType,quitTypeCN=this.getQuitTypeCN(quitType),subDom2=null!=bankId?React.createElement("span",{className:"extra-value"},cashTypeCN," 每月",cashDrawDay,"日提取至银行卡"):React.createElement("span",{className:"extra-value"},cashTypeCN),oldUplanCashTypeBtntext=this.state.isShowOldUplanCashType?"收起":"更改",dom2="INPROGRESS"==planStatus?React.createElement("li",{className:"fn-left"},"处理方式",subDom2,React.createElement("a",{href:"javascript:void(0)",className:"change-cash-style-a",onClick:this.changeCashType},oldUplanCashTypeBtntext)):React.createElement("li",{className:"fn-left"},"退出方式",React.createElement("span",{className:"extra-value"},quitTypeCN)),tooltipDom=this.getToolTip(),tooltipProps={id:"user-uplan-tooltip-03",place:"right",tip:tooltipDom};return React.createElement("div",null,React.createElement("div",{className:"product-info-number fn-clear"},React.createElement("ul",{className:"has-income fn-left"},React.createElement("li",{className:"value"},earnAmount,React.createElement("i",null,"元")),React.createElement("li",{className:"name"},"已赚金额",React.createElement(RWETooltip,tooltipProps))),React.createElement("ul",{className:"has-invest fn-left"},React.createElement("li",{className:"value"},finalAmount,React.createElement("i",null,"元")),React.createElement("li",{className:"name"},"投资金额")),React.createElement("ul",{className:"year-rate fn-left"},React.createElement("li",{className:"value"},aveLoanRate,React.createElement("i",null,"%")),React.createElement("li",{className:"name"},"预期年化利率"))),React.createElement("div",{className:"product-info-extra"},React.createElement("ul",{className:"fn-clear"},React.createElement("li",{className:"fn-left"},"交易时间",React.createElement("span",{className:"extra-value"},latestRegTime)),React.createElement("li",{className:"fn-left"},"锁定结束",React.createElement("span",{className:"extra-value"},endLockingTime))),React.createElement("ul",{className:"fn-clear"},React.createElement("li",{className:"fn-left"},"剩余天数",React.createElement("span",{className:"extra-value"},leftLockDay,"天")),dom2)))},UserUplanDetailProduct.prototype.render=function(){var props=this.props,state=this.state,detailInfo=props.detailInfo,financePlanVo=detailInfo.financePlanVo,id=financePlanVo.id,financeSubPointId=financePlanVo.financeSubPointId,category=financePlanVo.category,financePlanType=financePlanVo.financePlanType,planStatus=financePlanVo.planStatus,cashType=financePlanVo.cashType,openDetailHref="/pc/uplan/"+id+".html",openDetailDom="EXITED"!=planStatus?React.createElement("a",{href:openDetailHref},"详情"):null,contractOpenHref="/financeplan/getDemoFinancePlanContract.action?financePlanId="+id,contractDom="OLD"!=category?"PREMIUM"==financePlanType?"查看优选计划服务协议":"查看服务协议":"查看优选理财计划服务协议",infoDom=null;infoDom="PREMIUM"==financePlanType?this.premiumInfoDom():"OLD"!=category?this.uplanInfoDom():this.oldUplanInfoDom();var cashTypeDom=state.isShowOldUplanCashType?React.createElement(RCashType,{financeSubPointId:financeSubPointId,financeId:id,cashType:cashType,changeCashType:this.changeCashType,handleChangeCashType:this.handleChangeCashType}):null;return React.createElement("div",{id:"wdg-detail-uplan-user",className:"container_12_1080 color-white-bg"},React.createElement("ul",{className:"ui-title fn-clear"},React.createElement("li",{className:"fn-left"},financePlanVo.name,openDetailDom),React.createElement("li",{className:"fn-right"},React.createElement("a",{href:contractOpenHref,target:"_blank"},contractDom))),React.createElement("div",{className:"ui-product-info fn-clear"},React.createElement("div",{className:"product-info-main  fn-left"},infoDom),React.createElement(RUserUplanDetailProductStatus,{detailInfo:detailInfo,ref:"userUplanDetailStatus"})),cashTypeDom)},UserUplanDetailProduct}(React.Component);module.exports=UserUplanDetailProduct});
;/*!/client/widget/user/detail/RUserUplanDetailProcess/RUserUplanDetailProcess.js*/
define("uplan:widget/user/detail/RUserUplanDetailProcess/RUserUplanDetailProcess.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),utils=require("common:widget/ui/utils/utils"),UserUplanDetailProcess=function(_React$Component){function UserUplanDetailProcess(props){_classCallCheck(this,UserUplanDetailProcess),_React$Component.call(this,props)}return _inherits(UserUplanDetailProcess,_React$Component),UserUplanDetailProcess.prototype.render=function(){var props=this.props,detailInfo=(this.state,props.detailInfo),financePlanVo=detailInfo.financePlanVo,category=financePlanVo.category,financePlanType=financePlanVo.financePlanType,earnAmount=financePlanVo.earnAmount,totalInterestReceivable=financePlanVo.totalInterestReceivable,lockPeriod=financePlanVo.lockPeriod,width=parseInt(earnAmount/totalInterestReceivable*1e3);earnAmount=earnAmount?utils.commaFloat(earnAmount):"0.00",totalInterestReceivable=earnAmount?utils.commaFloat(totalInterestReceivable):"0.00";var style={width:width?width:0},rightTitleDom="PREMIUM"==financePlanType?React.createElement("li",{className:"fn-right"},"自由期内每日预期收益实时计算"):null,rightTotalReceivableDom="PREMIUM"==financePlanType?React.createElement("div",{className:"fn-right end-value"},lockPeriod,"个月内预期收益",totalInterestReceivable,"元"):React.createElement("div",{className:"fn-right end-value"},totalInterestReceivable,"元"),dom="OLD"!=category?React.createElement("div",{id:"wdg-detail-process",className:"container_12_1080 color-white-bg mt20"},React.createElement("ul",{className:"ui-title fn-clear"},React.createElement("li",{className:"fn-left"},"收益表现"),rightTitleDom),React.createElement("div",{className:"ui-proceess"},React.createElement("div",{className:"process-number"},"已获利息收益：",React.createElement("i",null,earnAmount,"元")),React.createElement("div",{className:"process-bg"},React.createElement("div",{className:"process-value",style:style})),React.createElement("div",{className:"fn-clear start-end-value"},React.createElement("div",{className:"fn-left start-value"},"0元"),rightTotalReceivableDom))):null;return React.createElement("div",null,dom)},UserUplanDetailProcess}(React.Component);module.exports=UserUplanDetailProcess});
;/*!/client/widget/user/detail/RUserUplanDetailListItem/RUserUplanDetailListItem.js*/
define("uplan:widget/user/detail/RUserUplanDetailListItem/RUserUplanDetailListItem.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var moment=require("common:node_modules/moment/moment"),React=require("common:node_modules/react/react"),utils=(require("common:widget/react-ui/RList/List"),require("common:widget/ui/utils/utils")),InvestDetail=require("common:widget/p2p/autoinvest/invest-detail/invest-detail"),p2pUtil=utils.p2pUtil,RUserUplanDetailListItem=function(_React$Component){function RUserUplanDetailListItem(props){_classCallCheck(this,RUserUplanDetailListItem),_React$Component.call(this,props),this.state={isShowDetails:!1},this.showDetails=this.showDetails.bind(this)}return _inherits(RUserUplanDetailListItem,_React$Component),RUserUplanDetailListItem.prototype.showDetails=function(){this.setState({isShowDetails:!this.state.isShowDetails})},RUserUplanDetailListItem.prototype.componentWillReceiveProps=function(){this.setState({isShowDetails:!1})},RUserUplanDetailListItem.prototype.render=function(){var _props=this.props,item=_props.item,index=_props.index,subPointId=_props.subPointId,bgCName="fn-clear list-main-item ";index%2!=0&&(bgCName+="dark");var transferring=!1,hasContract=!0,loanId=item.loanId,loanLink="/pc/loan/"+loanId+".html",shares=item.lendShare,date=item.lendTime,time=moment(parseInt(date,10)).format("YYYY年MM月DD日"),statusOrdinal=item.statusOrdinal,amount=item.lendAmount?utils.commaFloat(item.lendAmount):"0.00",loanType=(item.interest?utils.commaFloat(item.interest):"0.00",item.displayLoanType),loanTypeName=p2pUtil.loanAllType(loanType)[1],status=p2pUtil.loanStatus(statusOrdinal);("招标中"==status||"已满标"==status||"已流标"==status||"预售中"==status)&&(hasContract=!1),item.lendShare>0&&item.transferShare>0?(status="转让中",transferring=!0):0===item.lendShare&&(status="转让完成",transferring=!0);var statusDom=transferring?React.createElement("span",{className:"status-span"},status,"（",React.createElement("a",{className:"cursor-pointer","data-name":"details",onClick:this.showDetails},"明细"),"）"):React.createElement("span",{className:"status-span"},status),contractHref="/account/borrowContract.action?loanId="+loanId,contractDom=hasContract?React.createElement("span",{className:"contract-span"},React.createElement("a",{className:"text",href:contractHref,target:"_blank"},"合同")):React.createElement("span",{className:"contract-span"},"合同"),isShowDetails=this.state.isShowDetails,detailsDom=isShowDetails?React.createElement(InvestDetail,{loanId:loanId,subPointId:subPointId}):null;return React.createElement("div",null,React.createElement("ul",{className:bgCName},React.createElement("li",{className:"fn-left w194 loanId-li"},React.createElement("span",{className:"loanId-span"},React.createElement("em",{className:"ui-loantype",title:loanTypeName},loanTypeName),React.createElement("a",{className:"loan-id-a",href:loanLink,target:"_blank"},loanId))),React.createElement("li",{className:"fn-left w171 amount-li"},React.createElement("span",{className:"amount-span"},amount,"元")),React.createElement("li",{className:"fn-left w139 shares-li"},React.createElement("span",{className:"shares-span"},shares)),React.createElement("li",{className:"fn-left w203 date-li"},React.createElement("span",{className:"date-span"},time)),React.createElement("li",{className:"fn-left w171 status-li"},statusDom),React.createElement("li",{className:"fn-left w194 text-right contract-li "},contractDom)),detailsDom)},RUserUplanDetailListItem}(React.Component);module.exports=RUserUplanDetailListItem});
;/*!/client/widget/user/detail/RUserUplanDetailList/RUserUplanDetailList.js*/
define("uplan:widget/user/detail/RUserUplanDetailList/RUserUplanDetailList.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},React=(require("common:node_modules/moment/moment"),require("common:node_modules/react/react")),service=require("common:widget/ui/service/service-factory"),List=(service.getService("uplan"),require("common:widget/react-ui/RList/List")),utils=require("common:widget/ui/utils/utils"),RUserUplanDetailListItem=(utils.p2pUtil,require("uplan:widget/user/detail/RUserUplanDetailListItem/RUserUplanDetailListItem")),UserUplanDetailList=function(_React$Component){function UserUplanDetailList(props){_classCallCheck(this,UserUplanDetailList),_React$Component.call(this,props)}return _inherits(UserUplanDetailList,_React$Component),UserUplanDetailList.prototype.createHeadDom=function(){return React.createElement("ul",{className:"list-header  fn-clear"},React.createElement("li",{className:"w194 loanId-li"},React.createElement("span",{className:"loanId-span"},"债权ID")),React.createElement("li",{className:"w171 amount-li"},React.createElement("span",{className:"amount-span"},"投资金额")),React.createElement("li",{className:"w139 shares-li"},React.createElement("span",{className:"shares-span"},"持有份数")),React.createElement("li",{className:"w203 date-li"},React.createElement("span",{className:"date-span"},"投资时间")),React.createElement("li",{className:"w171 status-li"},React.createElement("span",{className:"status-span"},"状态")),React.createElement("li",{className:"w194 contract-li text-right"}))},UserUplanDetailList.prototype.createRowDom=function(item,index,subPointId){return React.createElement(RUserUplanDetailListItem,{item:item,index:index,subPointId:subPointId})},UserUplanDetailList.prototype.render=function(){var _this=this,props=this.props,listData=(this.state,props.listData),ajaxParams=props.ajaxParams,subPointId=props.subPointId;return React.createElement("div",{id:"wdg-detail-list",className:"container_12_1080 color-white-bg mt20"},React.createElement("ul",{className:"ui-title fn-clear"},React.createElement("li",{className:"fn-left"},"投标记录")),React.createElement("div",{id:"user-detail-record-list"},React.createElement(List,_extends({},listData,{moudleServiceName:"uplan",url:"getUserDetailRcordAsync",ajaxParams:ajaxParams,isHeadNeed:"yes",isHeadNeedOrder:"no",createHeadDom:this.createHeadDom,createRowDom:function(item,index){return _this.createRowDom(item,index,subPointId)},noDataText:"没有投资中的标的",startNum:0,limit:10,offset:5}))))},UserUplanDetailList}(React.Component);module.exports=UserUplanDetailList});
;/*!/client/widget/user/detail/RUserUplanDetail/RUserUplanDetail.js*/
define("uplan:widget/user/detail/RUserUplanDetail/RUserUplanDetail.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),RUserUplanDetailProduct=require("uplan:widget/user/detail/RUserUplanDetailProduct/RUserUplanDetailProduct"),RUserUplanDetailProcess=require("uplan:widget/user/detail/RUserUplanDetailProcess/RUserUplanDetailProcess"),RUserUplanDetailList=require("uplan:widget/user/detail/RUserUplanDetailList/RUserUplanDetailList"),UserUplanDetail=function(_React$Component){function UserUplanDetail(props){_classCallCheck(this,UserUplanDetail),_React$Component.call(this,props)}return _inherits(UserUplanDetail,_React$Component),UserUplanDetail.prototype.render=function(){var props=this.props,detailInfo=(this.state,props.detailInfo),listData=props.listData,ajaxParams=props.ajaxParams,financePlanVo=detailInfo.financePlanVo,subPointId=financePlanVo.financeSubPointId;return React.createElement("div",null,React.createElement(RUserUplanDetailProduct,{detailInfo:detailInfo}),React.createElement(RUserUplanDetailProcess,{detailInfo:detailInfo}),React.createElement(RUserUplanDetailList,{listData:listData,ajaxParams:ajaxParams,subPointId:subPointId}))},UserUplanDetail}(React.Component);module.exports=UserUplanDetail});